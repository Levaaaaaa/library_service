2025-01-22T13:45:26.406+03:00  INFO 9148 --- [books_service] [main] c.e.b.BooksServiceApplication            : Starting BooksServiceApplication using Java 21.0.5 with PID 9148 (D:\Leva\IT\Modsen\book_service\book_service\target\classes started by User in D:\Leva\IT\Modsen\book_service\book_service)
2025-01-22T13:45:26.418+03:00  INFO 9148 --- [books_service] [main] c.e.b.BooksServiceApplication            : No active profile set, falling back to 1 default profile: "default"
2025-01-22T13:45:27.271+03:00  INFO 9148 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T13:45:27.342+03:00  INFO 9148 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66 ms. Found 4 JPA repository interfaces.
2025-01-22T13:45:27.978+03:00  INFO 9148 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-01-22T13:45:27.985+03:00  INFO 9148 --- [books_service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-22T13:45:27.993+03:00  INFO 9148 --- [books_service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2025-01-22T13:45:28.043+03:00  INFO 9148 --- [books_service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-22T13:45:28.043+03:00  INFO 9148 --- [books_service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1581 ms
2025-01-22T13:45:28.180+03:00  INFO 9148 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T13:45:28.386+03:00  INFO 9148 --- [books_service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1a914089
2025-01-22T13:45:28.394+03:00  INFO 9148 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T13:45:29.128+03:00  INFO 9148 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T13:45:29.195+03:00  INFO 9148 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T13:45:29.203+03:00  INFO 9148 --- [books_service] [main] liquibase.util                           : UPDATE SUMMARY
2025-01-22T13:45:29.203+03:00  INFO 9148 --- [books_service] [main] liquibase.util                           : Run:                          0
2025-01-22T13:45:29.203+03:00  INFO 9148 --- [books_service] [main] liquibase.util                           : Previously run:               7
2025-01-22T13:45:29.203+03:00  INFO 9148 --- [books_service] [main] liquibase.util                           : Filtered out:                 0
2025-01-22T13:45:29.203+03:00  INFO 9148 --- [books_service] [main] liquibase.util                           : -------------------------------
2025-01-22T13:45:29.203+03:00  INFO 9148 --- [books_service] [main] liquibase.util                           : Total change sets:            7

2025-01-22T13:45:29.203+03:00  INFO 9148 --- [books_service] [main] liquibase.util                           : Update summary generated
2025-01-22T13:45:29.231+03:00  INFO 9148 --- [books_service] [main] liquibase.lockservice                    : Successfully released change log lock
2025-01-22T13:45:29.231+03:00  INFO 9148 --- [books_service] [main] liquibase.command                        : Command execution complete
2025-01-22T13:45:29.304+03:00  INFO 9148 --- [books_service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T13:45:29.364+03:00  INFO 9148 --- [books_service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2025-01-22T13:45:29.395+03:00  INFO 9148 --- [books_service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T13:45:29.635+03:00  INFO 9148 --- [books_service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T13:45:29.701+03:00  INFO 9148 --- [books_service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-22T13:45:29.726+03:00 DEBUG 9148 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@498bfeec) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@33490054)
2025-01-22T13:45:29.726+03:00 DEBUG 9148 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@19487d13) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@51bd10f0)
2025-01-22T13:45:30.488+03:00  INFO 9148 --- [books_service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T13:45:30.496+03:00  INFO 9148 --- [books_service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T13:45:30.828+03:00  INFO 9148 --- [books_service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-22T13:45:31.329+03:00  WARN 9148 --- [books_service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-22T13:45:31.362+03:00 DEBUG 9148 --- [books_service] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-01-22T13:45:31.513+03:00 DEBUG 9148 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2025-01-22T13:45:31.609+03:00 DEBUG 9148 --- [books_service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-01-22T13:45:31.666+03:00 DEBUG 9148 --- [books_service] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-01-22T13:45:31.717+03:00 DEBUG 9148 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-22T13:45:31.758+03:00  WARN 9148 --- [books_service] [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-01-22T13:45:31.783+03:00 DEBUG 9148 --- [books_service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-22T13:45:32.007+03:00  INFO 9148 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-01-22T13:45:32.018+03:00  INFO 9148 --- [books_service] [main] c.e.b.BooksServiceApplication            : Started BooksServiceApplication in 6.091 seconds (process running for 6.473)
2025-01-22T13:45:47.230+03:00  INFO 9148 --- [books_service] [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-22T13:45:47.230+03:00  INFO 9148 --- [books_service] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-22T13:45:47.230+03:00 DEBUG 9148 --- [books_service] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-01-22T13:45:47.230+03:00 DEBUG 9148 --- [books_service] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-01-22T13:45:47.230+03:00 DEBUG 9148 --- [books_service] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-01-22T13:45:47.230+03:00 DEBUG 9148 --- [books_service] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@491665ab
2025-01-22T13:45:47.230+03:00 DEBUG 9148 --- [books_service] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1e0630cc
2025-01-22T13:45:47.230+03:00 DEBUG 9148 --- [books_service] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-22T13:45:47.230+03:00  INFO 9148 --- [books_service] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-01-22T13:45:47.264+03:00 DEBUG 9148 --- [books_service] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /find/id/1
2025-01-22T13:45:47.337+03:00 ERROR 9148 --- [books_service] [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-01-12T20:17:42Z. Current time: 2025-01-22T10:45:47Z, a difference of 829685329 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427) ~[jjwt-impl-0.11.5.jar:0.11.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529) ~[jjwt-impl-0.11.5.jar:0.11.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589) ~[jjwt-impl-0.11.5.jar:0.11.5]
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173) ~[jjwt-impl-0.11.5.jar:0.11.5]
	at com.example.books_service.auth.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:41) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.1.jar:6.4.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.0.jar:6.2.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-01-22T13:45:47.345+03:00 DEBUG 9148 --- [books_service] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-01-22T13:45:47.353+03:00 DEBUG 9148 --- [books_service] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-01-22T13:45:47.377+03:00 DEBUG 9148 --- [books_service] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-01-22T13:47:03.618+03:00  INFO 9148 --- [books_service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-22T13:47:03.618+03:00  INFO 9148 --- [books_service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-01-22T13:47:03.654+03:00  INFO 9148 --- [books_service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T13:47:03.654+03:00  INFO 9148 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T13:47:03.662+03:00  INFO 9148 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T17:56:07.342+03:00  INFO 1756 --- [books_service] [main] c.e.b.BooksServiceApplication            : Starting BooksServiceApplication using Java 21.0.5 with PID 1756 (D:\Leva\IT\Modsen\book_service\book_service\target\classes started by User in D:\Leva\IT\Modsen\book_service\book_service)
2025-01-22T17:56:07.346+03:00  INFO 1756 --- [books_service] [main] c.e.b.BooksServiceApplication            : No active profile set, falling back to 1 default profile: "default"
2025-01-22T17:56:08.248+03:00  INFO 1756 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T17:56:08.327+03:00  INFO 1756 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 72 ms. Found 4 JPA repository interfaces.
2025-01-22T17:56:08.938+03:00  INFO 1756 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-01-22T17:56:08.946+03:00  INFO 1756 --- [books_service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-22T17:56:08.946+03:00  INFO 1756 --- [books_service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2025-01-22T17:56:09.006+03:00  INFO 1756 --- [books_service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-22T17:56:09.006+03:00  INFO 1756 --- [books_service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1617 ms
2025-01-22T17:56:09.191+03:00  INFO 1756 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T17:56:09.417+03:00  INFO 1756 --- [books_service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3caee3a8
2025-01-22T17:56:09.417+03:00  INFO 1756 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T17:56:10.182+03:00  INFO 1756 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T17:56:10.243+03:00  INFO 1756 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T17:56:10.253+03:00  INFO 1756 --- [books_service] [main] liquibase.util                           : UPDATE SUMMARY
2025-01-22T17:56:10.253+03:00  INFO 1756 --- [books_service] [main] liquibase.util                           : Run:                          0
2025-01-22T17:56:10.253+03:00  INFO 1756 --- [books_service] [main] liquibase.util                           : Previously run:               7
2025-01-22T17:56:10.253+03:00  INFO 1756 --- [books_service] [main] liquibase.util                           : Filtered out:                 0
2025-01-22T17:56:10.253+03:00  INFO 1756 --- [books_service] [main] liquibase.util                           : -------------------------------
2025-01-22T17:56:10.253+03:00  INFO 1756 --- [books_service] [main] liquibase.util                           : Total change sets:            7

2025-01-22T17:56:10.253+03:00  INFO 1756 --- [books_service] [main] liquibase.util                           : Update summary generated
2025-01-22T17:56:10.277+03:00  INFO 1756 --- [books_service] [main] liquibase.lockservice                    : Successfully released change log lock
2025-01-22T17:56:10.285+03:00  INFO 1756 --- [books_service] [main] liquibase.command                        : Command execution complete
2025-01-22T17:56:10.363+03:00  INFO 1756 --- [books_service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T17:56:10.419+03:00  INFO 1756 --- [books_service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2025-01-22T17:56:10.457+03:00  INFO 1756 --- [books_service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T17:56:10.683+03:00  INFO 1756 --- [books_service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T17:56:10.775+03:00  INFO 1756 --- [books_service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-22T17:56:10.783+03:00 DEBUG 1756 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@1611ce1c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@40cd02fc)
2025-01-22T17:56:10.783+03:00 DEBUG 1756 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7fd7965b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@9742012)
2025-01-22T17:56:11.566+03:00  INFO 1756 --- [books_service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T17:56:11.570+03:00  INFO 1756 --- [books_service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T17:56:11.912+03:00  INFO 1756 --- [books_service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-22T17:56:12.413+03:00  WARN 1756 --- [books_service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-22T17:56:12.446+03:00 DEBUG 1756 --- [books_service] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-01-22T17:56:12.603+03:00 DEBUG 1756 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2025-01-22T17:56:12.695+03:00 DEBUG 1756 --- [books_service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-01-22T17:56:12.744+03:00 DEBUG 1756 --- [books_service] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-01-22T17:56:12.795+03:00 DEBUG 1756 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-22T17:56:12.836+03:00  WARN 1756 --- [books_service] [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-01-22T17:56:12.860+03:00 DEBUG 1756 --- [books_service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-22T17:56:13.064+03:00  INFO 1756 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-01-22T17:56:13.072+03:00  INFO 1756 --- [books_service] [main] c.e.b.BooksServiceApplication            : Started BooksServiceApplication in 6.215 seconds (process running for 6.602)
2025-01-22T17:56:21.368+03:00  INFO 1756 --- [books_service] [http-nio-8080-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-22T17:56:21.368+03:00  INFO 1756 --- [books_service] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-22T17:56:21.368+03:00 DEBUG 1756 --- [books_service] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-01-22T17:56:21.368+03:00 DEBUG 1756 --- [books_service] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-01-22T17:56:21.368+03:00 DEBUG 1756 --- [books_service] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-01-22T17:56:21.368+03:00 DEBUG 1756 --- [books_service] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@70d8f66
2025-01-22T17:56:21.368+03:00 DEBUG 1756 --- [books_service] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@c2c496d
2025-01-22T17:56:21.368+03:00 DEBUG 1756 --- [books_service] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-22T17:56:21.368+03:00  INFO 1756 --- [books_service] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-01-22T17:56:21.396+03:00 DEBUG 1756 --- [books_service] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /find
2025-01-22T17:56:21.470+03:00 ERROR 1756 --- [books_service] [http-nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-01-19T20:37:15Z. Current time: 2025-01-22T14:56:21Z, a difference of 238746461 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427) ~[jjwt-impl-0.11.5.jar:0.11.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529) ~[jjwt-impl-0.11.5.jar:0.11.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589) ~[jjwt-impl-0.11.5.jar:0.11.5]
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173) ~[jjwt-impl-0.11.5.jar:0.11.5]
	at com.example.books_service.auth.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:41) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.1.jar:6.4.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.0.jar:6.2.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-01-22T17:56:21.478+03:00 DEBUG 1756 --- [books_service] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-01-22T17:56:21.486+03:00 DEBUG 1756 --- [books_service] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-01-22T17:56:21.502+03:00 DEBUG 1756 --- [books_service] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-01-22T18:05:49.969+03:00  INFO 1756 --- [books_service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-22T18:05:49.986+03:00  INFO 1756 --- [books_service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-01-22T18:05:49.994+03:00  INFO 1756 --- [books_service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T18:05:49.994+03:00  INFO 1756 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T18:05:50.010+03:00  INFO 1756 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T18:16:47.327+03:00  INFO 19348 --- [books_service] [main] c.e.b.BooksServiceApplication            : Starting BooksServiceApplication using Java 21.0.5 with PID 19348 (D:\Leva\IT\Modsen\book_service\book_service\target\classes started by User in D:\Leva\IT\Modsen\book_service\book_service)
2025-01-22T18:16:47.334+03:00  INFO 19348 --- [books_service] [main] c.e.b.BooksServiceApplication            : No active profile set, falling back to 1 default profile: "default"
2025-01-22T18:16:48.163+03:00  INFO 19348 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T18:16:48.241+03:00  INFO 19348 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 73 ms. Found 4 JPA repository interfaces.
2025-01-22T18:16:48.836+03:00  INFO 19348 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-01-22T18:16:48.844+03:00  INFO 19348 --- [books_service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-22T18:16:48.844+03:00  INFO 19348 --- [books_service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2025-01-22T18:16:48.900+03:00  INFO 19348 --- [books_service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-22T18:16:48.900+03:00  INFO 19348 --- [books_service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1528 ms
2025-01-22T18:16:49.016+03:00  INFO 19348 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T18:16:49.208+03:00  INFO 19348 --- [books_service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3caee3a8
2025-01-22T18:16:49.208+03:00  INFO 19348 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T18:16:49.856+03:00  INFO 19348 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T18:16:49.909+03:00  INFO 19348 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T18:16:49.917+03:00  INFO 19348 --- [books_service] [main] liquibase.util                           : UPDATE SUMMARY
2025-01-22T18:16:49.917+03:00  INFO 19348 --- [books_service] [main] liquibase.util                           : Run:                          0
2025-01-22T18:16:49.917+03:00  INFO 19348 --- [books_service] [main] liquibase.util                           : Previously run:               7
2025-01-22T18:16:49.917+03:00  INFO 19348 --- [books_service] [main] liquibase.util                           : Filtered out:                 0
2025-01-22T18:16:49.917+03:00  INFO 19348 --- [books_service] [main] liquibase.util                           : -------------------------------
2025-01-22T18:16:49.917+03:00  INFO 19348 --- [books_service] [main] liquibase.util                           : Total change sets:            7

2025-01-22T18:16:49.917+03:00  INFO 19348 --- [books_service] [main] liquibase.util                           : Update summary generated
2025-01-22T18:16:49.946+03:00  INFO 19348 --- [books_service] [main] liquibase.lockservice                    : Successfully released change log lock
2025-01-22T18:16:49.946+03:00  INFO 19348 --- [books_service] [main] liquibase.command                        : Command execution complete
2025-01-22T18:16:50.025+03:00  INFO 19348 --- [books_service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T18:16:50.109+03:00  INFO 19348 --- [books_service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2025-01-22T18:16:50.149+03:00  INFO 19348 --- [books_service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T18:16:50.389+03:00  INFO 19348 --- [books_service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T18:16:50.440+03:00  INFO 19348 --- [books_service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-22T18:16:50.448+03:00 DEBUG 19348 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@1611ce1c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@40cd02fc)
2025-01-22T18:16:50.448+03:00 DEBUG 19348 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7fd7965b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@9742012)
2025-01-22T18:16:51.165+03:00  INFO 19348 --- [books_service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T18:16:51.173+03:00  INFO 19348 --- [books_service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T18:16:51.529+03:00  INFO 19348 --- [books_service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-22T18:16:52.045+03:00  WARN 19348 --- [books_service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-22T18:16:52.077+03:00 DEBUG 19348 --- [books_service] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-01-22T18:16:52.228+03:00 DEBUG 19348 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2025-01-22T18:16:52.320+03:00 DEBUG 19348 --- [books_service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-01-22T18:16:52.369+03:00 DEBUG 19348 --- [books_service] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-01-22T18:16:52.426+03:00 DEBUG 19348 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-22T18:16:52.475+03:00  WARN 19348 --- [books_service] [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-01-22T18:16:52.499+03:00 DEBUG 19348 --- [books_service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-22T18:16:52.697+03:00  INFO 19348 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-01-22T18:16:52.705+03:00  INFO 19348 --- [books_service] [main] c.e.b.BooksServiceApplication            : Started BooksServiceApplication in 5.81 seconds (process running for 6.198)
2025-01-22T18:17:00.555+03:00  INFO 19348 --- [books_service] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-22T18:17:00.555+03:00  INFO 19348 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-22T18:17:00.555+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-01-22T18:17:00.555+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-01-22T18:17:00.555+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-01-22T18:17:00.555+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5e8372b8
2025-01-22T18:17:00.555+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5bab61e7
2025-01-22T18:17:00.555+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-22T18:17:00.555+03:00  INFO 19348 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-01-22T18:17:00.588+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /find
2025-01-22T18:17:00.663+03:00 ERROR 19348 --- [books_service] [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-01-19T20:37:15Z. Current time: 2025-01-22T15:17:00Z, a difference of 239985655 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427) ~[jjwt-impl-0.11.5.jar:0.11.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529) ~[jjwt-impl-0.11.5.jar:0.11.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589) ~[jjwt-impl-0.11.5.jar:0.11.5]
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173) ~[jjwt-impl-0.11.5.jar:0.11.5]
	at com.example.books_service.auth.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:41) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.1.jar:6.4.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.0.jar:6.2.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-01-22T18:17:00.672+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-01-22T18:17:00.680+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-01-22T18:17:00.696+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-01-22T18:17:03.624+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /auth/login
2025-01-22T18:17:03.624+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /auth/login
2025-01-22T18:17:03.624+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-01-22T18:17:03.624+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.AuthController#login(AuthRequest)
2025-01-22T18:17:03.700+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(username=user, password=user)]
2025-01-22T18:17:03.824+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-3] org.hibernate.SQL                        : select ue1_0.id,ue1_0.password,ue1_0.username from users ue1_0 where ue1_0.username=?
2025-01-22T18:17:03.957+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T18:17:03.957+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.example.books_service.dto.auth.AuthResponse@2635d5cb]
2025-01-22T18:17:03.965+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-01-22T18:17:03.965+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-01-22T18:17:16.397+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /find
2025-01-22T18:17:16.481+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-01-22T18:17:16.481+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@25388142, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1FF3130F01A75FAF4B413C3951E42A57], Granted Authorities=[]]
2025-01-22T18:17:16.481+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /find
2025-01-22T18:17:16.481+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/find", parameters={}
2025-01-22T18:17:16.481+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.CrudController#findAll()
2025-01-22T18:17:16.514+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select be1_0.id,be1_0.author,be1_0.description,be1_0.isbn,be1_0.title from books be1_0
2025-01-22T18:17:16.522+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select ae1_0.id,ae1_0.birth_date,ae1_0.email,ae1_0.first_name,ae1_0.last_name,ae1_0.patronymic from authors ae1_0 where ae1_0.id=?
2025-01-22T18:17:16.530+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select ae1_0.id,ae1_0.birth_date,ae1_0.email,ae1_0.first_name,ae1_0.last_name,ae1_0.patronymic from authors ae1_0 where ae1_0.id=?
2025-01-22T18:17:16.538+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select ae1_0.id,ae1_0.birth_date,ae1_0.email,ae1_0.first_name,ae1_0.last_name,ae1_0.patronymic from authors ae1_0 where ae1_0.id=?
2025-01-22T18:17:16.538+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select ae1_0.id,ae1_0.birth_date,ae1_0.email,ae1_0.first_name,ae1_0.last_name,ae1_0.patronymic from authors ae1_0 where ae1_0.id=?
2025-01-22T18:17:16.538+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select ae1_0.id,ae1_0.birth_date,ae1_0.email,ae1_0.first_name,ae1_0.last_name,ae1_0.patronymic from authors ae1_0 where ae1_0.id=?
2025-01-22T18:17:16.546+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select g1_0.book,g1_1.id,g1_1.genre from genres_of_books g1_0 join genres g1_1 on g1_1.id=g1_0.genre where g1_0.book=?
2025-01-22T18:17:16.554+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select g1_0.book,g1_1.id,g1_1.genre from genres_of_books g1_0 join genres g1_1 on g1_1.id=g1_0.genre where g1_0.book=?
2025-01-22T18:17:16.554+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select g1_0.book,g1_1.id,g1_1.genre from genres_of_books g1_0 join genres g1_1 on g1_1.id=g1_0.genre where g1_0.book=?
2025-01-22T18:17:16.554+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select g1_0.book,g1_1.id,g1_1.genre from genres_of_books g1_0 join genres g1_1 on g1_1.id=g1_0.genre where g1_0.book=?
2025-01-22T18:17:16.554+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select g1_0.book,g1_1.id,g1_1.genre from genres_of_books g1_0 join genres g1_1 on g1_1.id=g1_0.genre where g1_0.book=?
2025-01-22T18:17:16.571+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T18:17:16.589+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [[BookDTO[id=8, isbn=1111111111111, title=The Lord of the Rings, genres=[GenreDTO[genre=epos], GenreD (truncated)...]
2025-01-22T18:17:16.605+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-01-22T18:17:30.569+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing DELETE /delete/1
2025-01-22T18:17:30.577+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-01-22T18:17:30.577+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@25388142, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1FF3130F01A75FAF4B413C3951E42A57], Granted Authorities=[]]
2025-01-22T18:17:30.577+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured DELETE /delete/1
2025-01-22T18:17:30.577+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : DELETE "/delete/1", parameters={}
2025-01-22T18:17:30.577+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.CrudController#deleteById(Long)
2025-01-22T18:17:30.585+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-5] org.hibernate.SQL                        : select be1_0.id,be1_0.author,a1_0.id,a1_0.birth_date,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.patronymic,be1_0.description,be1_0.isbn,be1_0.title from books be1_0 join authors a1_0 on a1_0.id=be1_0.author where be1_0.id=?
2025-01-22T18:17:30.604+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T18:17:30.604+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.example.books_service.dto.Response@7900b25f]
2025-01-22T18:17:30.604+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-01-22T18:18:02.228+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /add
2025-01-22T18:18:02.228+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-01-22T18:18:02.228+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@25388142, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1FF3130F01A75FAF4B413C3951E42A57], Granted Authorities=[]]
2025-01-22T18:18:02.228+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /add
2025-01-22T18:18:02.228+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/add", parameters={}
2025-01-22T18:18:02.228+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.CrudController#addBooksList(List)
2025-01-22T18:18:02.252+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [[BookDTO[id=null, isbn=1111111111112, title=Clean Code, genres=[GenreDTO[genre=computer science], Ge (truncated)...]
2025-01-22T18:18:02.303+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-6] org.hibernate.SQL                        : select be1_0.id,be1_0.author,be1_0.description,be1_0.isbn,be1_0.title from books be1_0 where be1_0.isbn=?
2025-01-22T18:18:02.311+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-6] org.hibernate.SQL                        : select ae1_0.id,ae1_0.birth_date,ae1_0.email,ae1_0.first_name,ae1_0.last_name,ae1_0.patronymic from authors ae1_0 where ae1_0.id=?
2025-01-22T18:18:02.311+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.example.books_service.validator.GlobalExceptionHandler#handlePSQLException(Exception, WebRequest)
2025-01-22T18:18:02.311+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T18:18:02.311+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [com.example.books_service.dto.Response@5d5ef396]
2025-01-22T18:18:02.319+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.amazonaws.services.shield.model.ResourceAlreadyExistsException: Book `Clean Code` already exists! (Service: null; Status Code: 0; Error Code: null; Request ID: null; Proxy: null)]
2025-01-22T18:18:02.319+03:00 DEBUG 19348 --- [books_service] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 409 CONFLICT
2025-01-22T18:20:07.154+03:00  INFO 19348 --- [books_service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-22T18:20:07.163+03:00  INFO 19348 --- [books_service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-01-22T18:20:07.171+03:00  INFO 19348 --- [books_service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T18:20:07.180+03:00  INFO 19348 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T18:20:07.213+03:00  INFO 19348 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T18:20:17.418+03:00  INFO 724 --- [books_service] [main] c.e.b.BooksServiceApplication            : Starting BooksServiceApplication using Java 21.0.5 with PID 724 (D:\Leva\IT\Modsen\book_service\book_service\target\classes started by User in D:\Leva\IT\Modsen\book_service\book_service)
2025-01-22T18:20:17.418+03:00  INFO 724 --- [books_service] [main] c.e.b.BooksServiceApplication            : No active profile set, falling back to 1 default profile: "default"
2025-01-22T18:20:18.274+03:00  INFO 724 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T18:20:18.342+03:00  INFO 724 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60 ms. Found 4 JPA repository interfaces.
2025-01-22T18:20:18.923+03:00  INFO 724 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-01-22T18:20:18.934+03:00  INFO 724 --- [books_service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-22T18:20:18.934+03:00  INFO 724 --- [books_service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2025-01-22T18:20:18.992+03:00  INFO 724 --- [books_service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-22T18:20:19.000+03:00  INFO 724 --- [books_service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1546 ms
2025-01-22T18:20:19.123+03:00  INFO 724 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T18:20:19.311+03:00  INFO 724 --- [books_service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3caee3a8
2025-01-22T18:20:19.311+03:00  INFO 724 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T18:20:19.952+03:00  INFO 724 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T18:20:20.003+03:00  INFO 724 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T18:20:20.011+03:00  INFO 724 --- [books_service] [main] liquibase.util                           : UPDATE SUMMARY
2025-01-22T18:20:20.011+03:00  INFO 724 --- [books_service] [main] liquibase.util                           : Run:                          0
2025-01-22T18:20:20.011+03:00  INFO 724 --- [books_service] [main] liquibase.util                           : Previously run:               7
2025-01-22T18:20:20.011+03:00  INFO 724 --- [books_service] [main] liquibase.util                           : Filtered out:                 0
2025-01-22T18:20:20.011+03:00  INFO 724 --- [books_service] [main] liquibase.util                           : -------------------------------
2025-01-22T18:20:20.011+03:00  INFO 724 --- [books_service] [main] liquibase.util                           : Total change sets:            7

2025-01-22T18:20:20.011+03:00  INFO 724 --- [books_service] [main] liquibase.util                           : Update summary generated
2025-01-22T18:20:20.054+03:00  INFO 724 --- [books_service] [main] liquibase.lockservice                    : Successfully released change log lock
2025-01-22T18:20:20.054+03:00  INFO 724 --- [books_service] [main] liquibase.command                        : Command execution complete
2025-01-22T18:20:20.135+03:00  INFO 724 --- [books_service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T18:20:20.192+03:00  INFO 724 --- [books_service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2025-01-22T18:20:20.216+03:00  INFO 724 --- [books_service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T18:20:20.468+03:00  INFO 724 --- [books_service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T18:20:20.527+03:00  INFO 724 --- [books_service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-22T18:20:20.527+03:00 DEBUG 724 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@1611ce1c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@40cd02fc)
2025-01-22T18:20:20.527+03:00 DEBUG 724 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7fd7965b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@9742012)
2025-01-22T18:20:21.268+03:00  INFO 724 --- [books_service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T18:20:21.268+03:00  INFO 724 --- [books_service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T18:20:21.613+03:00  INFO 724 --- [books_service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-22T18:20:22.122+03:00  WARN 724 --- [books_service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-22T18:20:22.146+03:00 DEBUG 724 --- [books_service] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-01-22T18:20:22.307+03:00 DEBUG 724 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2025-01-22T18:20:22.403+03:00 DEBUG 724 --- [books_service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-01-22T18:20:22.462+03:00 DEBUG 724 --- [books_service] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-01-22T18:20:22.519+03:00 DEBUG 724 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-22T18:20:22.555+03:00  WARN 724 --- [books_service] [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-01-22T18:20:22.582+03:00 DEBUG 724 --- [books_service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-22T18:20:22.779+03:00  INFO 724 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-01-22T18:20:22.795+03:00  INFO 724 --- [books_service] [main] c.e.b.BooksServiceApplication            : Started BooksServiceApplication in 5.832 seconds (process running for 6.202)
2025-01-22T18:20:26.256+03:00  INFO 724 --- [books_service] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-22T18:20:26.256+03:00  INFO 724 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-22T18:20:26.256+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-01-22T18:20:26.256+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-01-22T18:20:26.256+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-01-22T18:20:26.256+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5e8372b8
2025-01-22T18:20:26.256+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5bab61e7
2025-01-22T18:20:26.256+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-22T18:20:26.256+03:00  INFO 724 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-01-22T18:20:26.273+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /add
2025-01-22T18:20:26.351+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-01-22T18:20:26.351+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@25388142, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-01-22T18:20:26.351+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /add
2025-01-22T18:20:26.360+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/add", parameters={}
2025-01-22T18:20:26.360+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.CrudController#addBooksList(List)
2025-01-22T18:20:26.429+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [[BookDTO[id=null, isbn=1111111111112, title=Clean Code, genres=[GenreDTO[genre=computer science], Ge (truncated)...]
2025-01-22T18:20:26.552+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-1] org.hibernate.SQL                        : select be1_0.id,be1_0.author,be1_0.description,be1_0.isbn,be1_0.title from books be1_0 where be1_0.isbn=?
2025-01-22T18:20:26.584+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-1] org.hibernate.SQL                        : select ae1_0.id,ae1_0.birth_date,ae1_0.email,ae1_0.first_name,ae1_0.last_name,ae1_0.patronymic from authors ae1_0 where ae1_0.id=?
2025-01-22T18:20:26.603+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.example.books_service.validator.GlobalExceptionHandler#handlePSQLException(Exception, WebRequest)
2025-01-22T18:20:26.612+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T18:20:26.612+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [com.example.books_service.dto.Response@49980317]
2025-01-22T18:20:26.620+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.amazonaws.services.shield.model.ResourceAlreadyExistsException: Book `Clean Code` already exists! (Service: null; Status Code: 0; Error Code: null; Request ID: null; Proxy: null)]
2025-01-22T18:20:26.628+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 409 CONFLICT
2025-01-22T18:20:31.662+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing DELETE /delete/1
2025-01-22T18:20:31.670+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-01-22T18:20:31.670+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@25388142, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-01-22T18:20:31.670+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured DELETE /delete/1
2025-01-22T18:20:31.670+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : DELETE "/delete/1", parameters={}
2025-01-22T18:20:31.670+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.CrudController#deleteById(Long)
2025-01-22T18:20:31.686+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-3] org.hibernate.SQL                        : select be1_0.id,be1_0.author,a1_0.id,a1_0.birth_date,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.patronymic,be1_0.description,be1_0.isbn,be1_0.title from books be1_0 join authors a1_0 on a1_0.id=be1_0.author where be1_0.id=?
2025-01-22T18:20:31.686+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.example.books_service.validator.GlobalExceptionHandler#handleNotFoundException(EntityNotFoundException, WebRequest)
2025-01-22T18:20:31.686+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T18:20:31.695+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [com.example.books_service.dto.Response@42060b86]
2025-01-22T18:20:31.695+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [jakarta.persistence.EntityNotFoundException: Book with id 1 not found!]
2025-01-22T18:20:31.695+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-01-22T18:27:00.650+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing DELETE /delete/28
2025-01-22T18:27:00.658+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-01-22T18:27:00.658+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@25388142, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-01-22T18:27:00.658+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured DELETE /delete/28
2025-01-22T18:27:00.658+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : DELETE "/delete/28", parameters={}
2025-01-22T18:27:00.658+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.CrudController#deleteById(Long)
2025-01-22T18:27:00.666+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-6] org.hibernate.SQL                        : select be1_0.id,be1_0.author,a1_0.id,a1_0.birth_date,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.patronymic,be1_0.description,be1_0.isbn,be1_0.title from books be1_0 join authors a1_0 on a1_0.id=be1_0.author where be1_0.id=?
2025-01-22T18:27:00.722+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-6] org.hibernate.SQL                        : delete from genres_of_books where book=?
2025-01-22T18:27:00.738+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-6] org.hibernate.SQL                        : delete from books where id=?
2025-01-22T18:27:00.759+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-6] org.hibernate.SQL                        : delete from authors where id=?
2025-01-22T18:27:00.776+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T18:27:00.776+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.example.books_service.dto.Response@73075e50]
2025-01-22T18:27:00.776+03:00 DEBUG 724 --- [books_service] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-01-22T18:29:41.109+03:00  INFO 724 --- [books_service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-22T18:29:41.118+03:00  INFO 724 --- [books_service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-01-22T18:29:41.126+03:00  INFO 724 --- [books_service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T18:29:41.134+03:00  INFO 724 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T18:29:41.150+03:00  INFO 724 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T18:29:50.234+03:00  INFO 11608 --- [books_service] [main] c.e.b.BooksServiceApplication            : Starting BooksServiceApplication using Java 21.0.5 with PID 11608 (D:\Leva\IT\Modsen\book_service\book_service\target\classes started by User in D:\Leva\IT\Modsen\book_service\book_service)
2025-01-22T18:29:50.234+03:00  INFO 11608 --- [books_service] [main] c.e.b.BooksServiceApplication            : No active profile set, falling back to 1 default profile: "default"
2025-01-22T18:29:51.119+03:00  INFO 11608 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T18:29:51.212+03:00  INFO 11608 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 81 ms. Found 4 JPA repository interfaces.
2025-01-22T18:29:51.826+03:00  INFO 11608 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-01-22T18:29:51.836+03:00  INFO 11608 --- [books_service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-22T18:29:51.836+03:00  INFO 11608 --- [books_service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2025-01-22T18:29:51.906+03:00  INFO 11608 --- [books_service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-22T18:29:51.906+03:00  INFO 11608 --- [books_service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1630 ms
2025-01-22T18:29:52.036+03:00  INFO 11608 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T18:29:52.233+03:00  INFO 11608 --- [books_service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@636985df
2025-01-22T18:29:52.241+03:00  INFO 11608 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T18:29:52.907+03:00  INFO 11608 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T18:29:52.971+03:00  INFO 11608 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T18:29:52.979+03:00  INFO 11608 --- [books_service] [main] liquibase.util                           : UPDATE SUMMARY
2025-01-22T18:29:52.979+03:00  INFO 11608 --- [books_service] [main] liquibase.util                           : Run:                          0
2025-01-22T18:29:52.979+03:00  INFO 11608 --- [books_service] [main] liquibase.util                           : Previously run:               7
2025-01-22T18:29:52.979+03:00  INFO 11608 --- [books_service] [main] liquibase.util                           : Filtered out:                 0
2025-01-22T18:29:52.979+03:00  INFO 11608 --- [books_service] [main] liquibase.util                           : -------------------------------
2025-01-22T18:29:52.979+03:00  INFO 11608 --- [books_service] [main] liquibase.util                           : Total change sets:            7

2025-01-22T18:29:52.979+03:00  INFO 11608 --- [books_service] [main] liquibase.util                           : Update summary generated
2025-01-22T18:29:53.024+03:00  INFO 11608 --- [books_service] [main] liquibase.lockservice                    : Successfully released change log lock
2025-01-22T18:29:53.024+03:00  INFO 11608 --- [books_service] [main] liquibase.command                        : Command execution complete
2025-01-22T18:29:53.105+03:00  INFO 11608 --- [books_service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T18:29:53.156+03:00  INFO 11608 --- [books_service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2025-01-22T18:29:53.205+03:00  INFO 11608 --- [books_service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T18:29:53.465+03:00  INFO 11608 --- [books_service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T18:29:53.513+03:00  INFO 11608 --- [books_service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-22T18:29:53.522+03:00 DEBUG 11608 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@1ddf9fd) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@1297cf8)
2025-01-22T18:29:53.522+03:00 DEBUG 11608 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@37e15055) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@57d1edf0)
2025-01-22T18:29:54.291+03:00  INFO 11608 --- [books_service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T18:29:54.291+03:00  INFO 11608 --- [books_service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T18:29:54.677+03:00  INFO 11608 --- [books_service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-22T18:29:55.228+03:00  WARN 11608 --- [books_service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-22T18:29:55.260+03:00 DEBUG 11608 --- [books_service] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-01-22T18:29:55.414+03:00 DEBUG 11608 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2025-01-22T18:29:55.498+03:00 DEBUG 11608 --- [books_service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-01-22T18:29:55.555+03:00 DEBUG 11608 --- [books_service] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-01-22T18:29:55.606+03:00 DEBUG 11608 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-22T18:29:55.647+03:00  WARN 11608 --- [books_service] [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-01-22T18:29:55.673+03:00 DEBUG 11608 --- [books_service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-22T18:29:55.914+03:00  INFO 11608 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-01-22T18:29:55.931+03:00  INFO 11608 --- [books_service] [main] c.e.b.BooksServiceApplication            : Started BooksServiceApplication in 6.167 seconds (process running for 6.572)
2025-01-22T18:30:07.001+03:00  INFO 11608 --- [books_service] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-22T18:30:07.001+03:00  INFO 11608 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-22T18:30:07.001+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-01-22T18:30:07.001+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-01-22T18:30:07.001+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-01-22T18:30:07.001+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2c9cdbc9
2025-01-22T18:30:07.008+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@14944a7b
2025-01-22T18:30:07.008+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-22T18:30:07.008+03:00  INFO 11608 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2025-01-22T18:30:07.025+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /find
2025-01-22T18:30:07.147+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-01-22T18:30:07.147+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@25388142, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-01-22T18:30:07.147+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /find
2025-01-22T18:30:07.147+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/find", parameters={}
2025-01-22T18:30:07.155+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.CrudController#findAll()
2025-01-22T18:30:07.271+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] org.hibernate.SQL                        : select be1_0.id,be1_0.author,be1_0.description,be1_0.isbn,be1_0.title from books be1_0
2025-01-22T18:30:07.313+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] org.hibernate.SQL                        : select ae1_0.id,ae1_0.birth_date,ae1_0.email,ae1_0.first_name,ae1_0.last_name,ae1_0.patronymic from authors ae1_0 where ae1_0.id=?
2025-01-22T18:30:07.338+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] org.hibernate.SQL                        : select ae1_0.id,ae1_0.birth_date,ae1_0.email,ae1_0.first_name,ae1_0.last_name,ae1_0.patronymic from authors ae1_0 where ae1_0.id=?
2025-01-22T18:30:07.338+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] org.hibernate.SQL                        : select ae1_0.id,ae1_0.birth_date,ae1_0.email,ae1_0.first_name,ae1_0.last_name,ae1_0.patronymic from authors ae1_0 where ae1_0.id=?
2025-01-22T18:30:07.338+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] org.hibernate.SQL                        : select ae1_0.id,ae1_0.birth_date,ae1_0.email,ae1_0.first_name,ae1_0.last_name,ae1_0.patronymic from authors ae1_0 where ae1_0.id=?
2025-01-22T18:30:07.346+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] org.hibernate.SQL                        : select g1_0.book,g1_1.id,g1_1.genre from genres_of_books g1_0 join genres g1_1 on g1_1.id=g1_0.genre where g1_0.book=?
2025-01-22T18:30:07.354+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] org.hibernate.SQL                        : select g1_0.book,g1_1.id,g1_1.genre from genres_of_books g1_0 join genres g1_1 on g1_1.id=g1_0.genre where g1_0.book=?
2025-01-22T18:30:07.354+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] org.hibernate.SQL                        : select g1_0.book,g1_1.id,g1_1.genre from genres_of_books g1_0 join genres g1_1 on g1_1.id=g1_0.genre where g1_0.book=?
2025-01-22T18:30:07.354+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] org.hibernate.SQL                        : select g1_0.book,g1_1.id,g1_1.genre from genres_of_books g1_0 join genres g1_1 on g1_1.id=g1_0.genre where g1_0.book=?
2025-01-22T18:30:07.406+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T18:30:07.422+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [[BookDTO[id=8, isbn=1111111111111, title=The Lord of the Rings, genres=[GenreDTO[genre=epos], GenreD (truncated)...]
2025-01-22T18:30:07.472+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-01-22T18:30:17.822+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /add
2025-01-22T18:30:17.830+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-01-22T18:30:17.830+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@25388142, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-01-22T18:30:17.830+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /add
2025-01-22T18:30:17.830+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/add", parameters={}
2025-01-22T18:30:17.838+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.CrudController#addBooksList(List)
2025-01-22T18:30:17.879+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [[BookDTO[id=null, isbn=1111111111112, title=Clean Code, genres=[GenreDTO[genre=computer science], Ge (truncated)...]
2025-01-22T18:30:17.996+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-9] org.hibernate.SQL                        : select be1_0.id,be1_0.author,be1_0.description,be1_0.isbn,be1_0.title from books be1_0 where be1_0.isbn=?
2025-01-22T18:30:18.004+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-9] org.hibernate.SQL                        : select ge1_0.id,ge1_0.genre from genres ge1_0 where ge1_0.genre=?
2025-01-22T18:30:18.022+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-9] org.hibernate.SQL                        : select ge1_0.id,ge1_0.genre from genres ge1_0 where ge1_0.genre=?
2025-01-22T18:30:18.047+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-9] org.hibernate.SQL                        : insert into authors (birth_date,email,first_name,last_name,patronymic) values (?,?,?,?,?)
2025-01-22T18:30:18.071+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-9] org.hibernate.SQL                        : insert into books (author,description,isbn,title) values (?,?,?,?)
2025-01-22T18:30:18.087+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-9] org.hibernate.SQL                        : insert into genres_of_books (book,genre) values (?,?)
2025-01-22T18:30:18.087+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-9] org.hibernate.SQL                        : insert into genres_of_books (book,genre) values (?,?)
2025-01-22T18:30:18.104+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T18:30:18.104+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.example.books_service.dto.Response@3b6827d7]
2025-01-22T18:30:18.104+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-01-22T18:30:25.248+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /find
2025-01-22T18:30:25.256+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-01-22T18:30:25.256+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@25388142, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-01-22T18:30:25.256+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /find
2025-01-22T18:30:25.256+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/find", parameters={}
2025-01-22T18:30:25.256+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.CrudController#findAll()
2025-01-22T18:30:25.256+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select be1_0.id,be1_0.author,be1_0.description,be1_0.isbn,be1_0.title from books be1_0
2025-01-22T18:30:25.256+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select ae1_0.id,ae1_0.birth_date,ae1_0.email,ae1_0.first_name,ae1_0.last_name,ae1_0.patronymic from authors ae1_0 where ae1_0.id=?
2025-01-22T18:30:25.264+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select ae1_0.id,ae1_0.birth_date,ae1_0.email,ae1_0.first_name,ae1_0.last_name,ae1_0.patronymic from authors ae1_0 where ae1_0.id=?
2025-01-22T18:30:25.264+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select ae1_0.id,ae1_0.birth_date,ae1_0.email,ae1_0.first_name,ae1_0.last_name,ae1_0.patronymic from authors ae1_0 where ae1_0.id=?
2025-01-22T18:30:25.264+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select ae1_0.id,ae1_0.birth_date,ae1_0.email,ae1_0.first_name,ae1_0.last_name,ae1_0.patronymic from authors ae1_0 where ae1_0.id=?
2025-01-22T18:30:25.264+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select ae1_0.id,ae1_0.birth_date,ae1_0.email,ae1_0.first_name,ae1_0.last_name,ae1_0.patronymic from authors ae1_0 where ae1_0.id=?
2025-01-22T18:30:25.272+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select g1_0.book,g1_1.id,g1_1.genre from genres_of_books g1_0 join genres g1_1 on g1_1.id=g1_0.genre where g1_0.book=?
2025-01-22T18:30:25.272+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select g1_0.book,g1_1.id,g1_1.genre from genres_of_books g1_0 join genres g1_1 on g1_1.id=g1_0.genre where g1_0.book=?
2025-01-22T18:30:25.272+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select g1_0.book,g1_1.id,g1_1.genre from genres_of_books g1_0 join genres g1_1 on g1_1.id=g1_0.genre where g1_0.book=?
2025-01-22T18:30:25.272+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select g1_0.book,g1_1.id,g1_1.genre from genres_of_books g1_0 join genres g1_1 on g1_1.id=g1_0.genre where g1_0.book=?
2025-01-22T18:30:25.272+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-4] org.hibernate.SQL                        : select g1_0.book,g1_1.id,g1_1.genre from genres_of_books g1_0 join genres g1_1 on g1_1.id=g1_0.genre where g1_0.book=?
2025-01-22T18:30:25.280+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T18:30:25.280+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [[BookDTO[id=8, isbn=1111111111111, title=The Lord of the Rings, genres=[GenreDTO[genre=epos], GenreD (truncated)...]
2025-01-22T18:30:25.280+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-01-22T18:30:33.908+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing DELETE /delete/29
2025-01-22T18:30:33.916+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-01-22T18:30:33.916+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@25388142, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-01-22T18:30:33.916+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured DELETE /delete/29
2025-01-22T18:30:33.916+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : DELETE "/delete/29", parameters={}
2025-01-22T18:30:33.916+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.CrudController#deleteById(Long)
2025-01-22T18:30:33.924+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-5] org.hibernate.SQL                        : select be1_0.id,be1_0.author,a1_0.id,a1_0.birth_date,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.patronymic,be1_0.description,be1_0.isbn,be1_0.title from books be1_0 join authors a1_0 on a1_0.id=be1_0.author where be1_0.id=?
2025-01-22T18:30:33.932+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-5] org.hibernate.SQL                        : delete from genres_of_books where book=?
2025-01-22T18:30:33.932+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-5] org.hibernate.SQL                        : delete from books where id=?
2025-01-22T18:30:33.952+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-5] org.hibernate.SQL                        : delete from authors where id=?
2025-01-22T18:30:33.966+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T18:30:33.966+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.example.books_service.dto.Response@28b0d470]
2025-01-22T18:30:33.966+03:00 DEBUG 11608 --- [books_service] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-01-22T18:30:55.524+03:00  INFO 11608 --- [books_service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-22T18:30:55.532+03:00  INFO 11608 --- [books_service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-01-22T18:30:55.532+03:00  INFO 11608 --- [books_service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T18:30:55.541+03:00  INFO 11608 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T18:30:55.549+03:00  INFO 11608 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T18:51:49.230+03:00  INFO 14424 --- [books_service] [main] c.e.b.BooksServiceApplication            : Starting BooksServiceApplication using Java 21.0.5 with PID 14424 (D:\Leva\IT\Modsen\book_service\book_service\target\classes started by User in D:\Leva\IT\Modsen\book_service\book_service)
2025-01-22T18:51:49.238+03:00  INFO 14424 --- [books_service] [main] c.e.b.BooksServiceApplication            : No active profile set, falling back to 1 default profile: "default"
2025-01-22T18:51:50.074+03:00  INFO 14424 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T18:51:50.153+03:00  INFO 14424 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60 ms. Found 4 JPA repository interfaces.
2025-01-22T18:51:50.734+03:00  INFO 14424 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-01-22T18:51:50.742+03:00  INFO 14424 --- [books_service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-22T18:51:50.750+03:00  INFO 14424 --- [books_service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2025-01-22T18:51:50.818+03:00  INFO 14424 --- [books_service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-22T18:51:50.818+03:00  INFO 14424 --- [books_service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1537 ms
2025-01-22T18:51:50.939+03:00  INFO 14424 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T18:51:51.108+03:00  INFO 14424 --- [books_service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3caee3a8
2025-01-22T18:51:51.117+03:00  INFO 14424 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T18:51:51.775+03:00  INFO 14424 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T18:51:51.837+03:00  INFO 14424 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T18:51:51.846+03:00  INFO 14424 --- [books_service] [main] liquibase.util                           : UPDATE SUMMARY
2025-01-22T18:51:51.846+03:00  INFO 14424 --- [books_service] [main] liquibase.util                           : Run:                          0
2025-01-22T18:51:51.846+03:00  INFO 14424 --- [books_service] [main] liquibase.util                           : Previously run:               7
2025-01-22T18:51:51.846+03:00  INFO 14424 --- [books_service] [main] liquibase.util                           : Filtered out:                 0
2025-01-22T18:51:51.846+03:00  INFO 14424 --- [books_service] [main] liquibase.util                           : -------------------------------
2025-01-22T18:51:51.846+03:00  INFO 14424 --- [books_service] [main] liquibase.util                           : Total change sets:            7

2025-01-22T18:51:51.846+03:00  INFO 14424 --- [books_service] [main] liquibase.util                           : Update summary generated
2025-01-22T18:51:51.862+03:00  INFO 14424 --- [books_service] [main] liquibase.lockservice                    : Successfully released change log lock
2025-01-22T18:51:51.862+03:00  INFO 14424 --- [books_service] [main] liquibase.command                        : Command execution complete
2025-01-22T18:51:51.942+03:00  INFO 14424 --- [books_service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T18:51:51.991+03:00  INFO 14424 --- [books_service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2025-01-22T18:51:52.018+03:00  INFO 14424 --- [books_service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T18:51:52.268+03:00  INFO 14424 --- [books_service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T18:51:52.319+03:00  INFO 14424 --- [books_service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-22T18:51:52.327+03:00 DEBUG 14424 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@1611ce1c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@40cd02fc)
2025-01-22T18:51:52.327+03:00 DEBUG 14424 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7fd7965b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@9742012)
2025-01-22T18:51:53.052+03:00  INFO 14424 --- [books_service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T18:51:53.060+03:00  INFO 14424 --- [books_service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T18:51:53.409+03:00  INFO 14424 --- [books_service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-22T18:51:53.928+03:00  WARN 14424 --- [books_service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-22T18:51:53.962+03:00 DEBUG 14424 --- [books_service] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-01-22T18:51:54.144+03:00 DEBUG 14424 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2025-01-22T18:51:54.244+03:00 DEBUG 14424 --- [books_service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-01-22T18:51:54.293+03:00 DEBUG 14424 --- [books_service] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-01-22T18:51:54.336+03:00 DEBUG 14424 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-22T18:51:54.384+03:00  WARN 14424 --- [books_service] [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-01-22T18:51:54.409+03:00 DEBUG 14424 --- [books_service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-22T18:51:54.621+03:00  INFO 14424 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-01-22T18:51:54.629+03:00  INFO 14424 --- [books_service] [main] c.e.b.BooksServiceApplication            : Started BooksServiceApplication in 5.897 seconds (process running for 6.317)
2025-01-22T18:52:30.500+03:00  INFO 14424 --- [books_service] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-22T18:52:30.509+03:00  INFO 14424 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-22T18:52:30.509+03:00 DEBUG 14424 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-01-22T18:52:30.509+03:00 DEBUG 14424 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-01-22T18:52:30.509+03:00 DEBUG 14424 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-01-22T18:52:30.509+03:00 DEBUG 14424 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5e8372b8
2025-01-22T18:52:30.509+03:00 DEBUG 14424 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5bab61e7
2025-01-22T18:52:30.509+03:00 DEBUG 14424 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-22T18:52:30.509+03:00  INFO 14424 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-01-22T18:52:30.533+03:00 DEBUG 14424 --- [books_service] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /add
2025-01-22T18:52:30.553+03:00 DEBUG 14424 --- [books_service] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-01-22T18:52:30.586+03:00 DEBUG 14424 --- [books_service] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/add?continue to session
2025-01-22T18:52:36.068+03:00 DEBUG 14424 --- [books_service] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /add
2025-01-22T18:52:36.191+03:00 DEBUG 14424 --- [books_service] [http-nio-8080-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-01-22T18:52:36.199+03:00 DEBUG 14424 --- [books_service] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@25388142, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ABA4F9B81F38CE2A70232CA5F1F3A7B6], Granted Authorities=[]]
2025-01-22T18:52:36.199+03:00 DEBUG 14424 --- [books_service] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /add
2025-01-22T18:52:36.199+03:00 DEBUG 14424 --- [books_service] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/add", parameters={}
2025-01-22T18:52:36.199+03:00 DEBUG 14424 --- [books_service] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.CrudController#addBooksList(List)
2025-01-22T18:52:36.315+03:00 DEBUG 14424 --- [books_service] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [[BookDTO[id=null, isbn=Invalid ISBN, title=Clean Code, genres=[GenreDTO[genre=computer science], Gen (truncated)...]
2025-01-22T18:52:36.421+03:00 DEBUG 14424 --- [books_service] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.example.books_service.validator.GlobalExceptionHandler#handleConstrainViolationException(ConstraintViolationException, WebRequest)
2025-01-22T18:52:36.438+03:00 DEBUG 14424 --- [books_service] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T18:52:36.446+03:00 DEBUG 14424 --- [books_service] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [com.example.books_service.dto.Response@363a003]
2025-01-22T18:52:36.454+03:00 DEBUG 14424 --- [books_service] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [jakarta.validation.ConstraintViolationException: addBooksList.books[0].isbn: ISBN can have only 13 digits]
2025-01-22T18:52:36.454+03:00 DEBUG 14424 --- [books_service] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-01-22T18:52:54.053+03:00  INFO 14424 --- [books_service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-22T18:52:54.053+03:00  INFO 14424 --- [books_service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-01-22T18:52:54.061+03:00  INFO 14424 --- [books_service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T18:52:54.061+03:00  INFO 14424 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T18:52:54.070+03:00  INFO 14424 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T19:23:46.683+03:00  INFO 19424 --- [books_service] [main] c.e.b.BooksServiceApplication            : Starting BooksServiceApplication using Java 21.0.5 with PID 19424 (D:\Leva\IT\Modsen\book_service\book_service\target\classes started by User in D:\Leva\IT\Modsen\book_service\book_service)
2025-01-22T19:23:46.691+03:00  INFO 19424 --- [books_service] [main] c.e.b.BooksServiceApplication            : No active profile set, falling back to 1 default profile: "default"
2025-01-22T19:23:47.519+03:00  INFO 19424 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T19:23:47.595+03:00  INFO 19424 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60 ms. Found 4 JPA repository interfaces.
2025-01-22T19:23:48.158+03:00  INFO 19424 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-01-22T19:23:48.166+03:00  INFO 19424 --- [books_service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-22T19:23:48.166+03:00  INFO 19424 --- [books_service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2025-01-22T19:23:48.238+03:00  INFO 19424 --- [books_service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-22T19:23:48.238+03:00  INFO 19424 --- [books_service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1513 ms
2025-01-22T19:23:48.380+03:00  INFO 19424 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T19:23:48.555+03:00  INFO 19424 --- [books_service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3caee3a8
2025-01-22T19:23:48.563+03:00  INFO 19424 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T19:23:49.214+03:00  INFO 19424 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T19:23:49.265+03:00  INFO 19424 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T19:23:49.273+03:00  INFO 19424 --- [books_service] [main] liquibase.util                           : UPDATE SUMMARY
2025-01-22T19:23:49.273+03:00  INFO 19424 --- [books_service] [main] liquibase.util                           : Run:                          0
2025-01-22T19:23:49.273+03:00  INFO 19424 --- [books_service] [main] liquibase.util                           : Previously run:               7
2025-01-22T19:23:49.273+03:00  INFO 19424 --- [books_service] [main] liquibase.util                           : Filtered out:                 0
2025-01-22T19:23:49.273+03:00  INFO 19424 --- [books_service] [main] liquibase.util                           : -------------------------------
2025-01-22T19:23:49.273+03:00  INFO 19424 --- [books_service] [main] liquibase.util                           : Total change sets:            7

2025-01-22T19:23:49.273+03:00  INFO 19424 --- [books_service] [main] liquibase.util                           : Update summary generated
2025-01-22T19:23:49.308+03:00  INFO 19424 --- [books_service] [main] liquibase.lockservice                    : Successfully released change log lock
2025-01-22T19:23:49.308+03:00  INFO 19424 --- [books_service] [main] liquibase.command                        : Command execution complete
2025-01-22T19:23:49.379+03:00  INFO 19424 --- [books_service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T19:23:49.440+03:00  INFO 19424 --- [books_service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2025-01-22T19:23:49.489+03:00  INFO 19424 --- [books_service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T19:23:49.731+03:00  INFO 19424 --- [books_service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T19:23:49.787+03:00  INFO 19424 --- [books_service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-22T19:23:49.787+03:00 DEBUG 19424 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@1611ce1c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@40cd02fc)
2025-01-22T19:23:49.787+03:00 DEBUG 19424 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7fd7965b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@9742012)
2025-01-22T19:23:50.524+03:00  INFO 19424 --- [books_service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T19:23:50.532+03:00  INFO 19424 --- [books_service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T19:23:50.891+03:00  INFO 19424 --- [books_service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-22T19:23:51.416+03:00  WARN 19424 --- [books_service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-22T19:23:51.445+03:00 DEBUG 19424 --- [books_service] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-01-22T19:23:51.609+03:00 DEBUG 19424 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2025-01-22T19:23:51.693+03:00 DEBUG 19424 --- [books_service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-01-22T19:23:51.742+03:00 DEBUG 19424 --- [books_service] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-01-22T19:23:51.789+03:00 DEBUG 19424 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-22T19:23:51.831+03:00  WARN 19424 --- [books_service] [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-01-22T19:23:51.852+03:00 DEBUG 19424 --- [books_service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-22T19:23:52.051+03:00  INFO 19424 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-01-22T19:23:52.059+03:00  INFO 19424 --- [books_service] [main] c.e.b.BooksServiceApplication            : Started BooksServiceApplication in 5.796 seconds (process running for 6.242)
2025-01-22T19:23:55.837+03:00  INFO 19424 --- [books_service] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-22T19:23:55.837+03:00  INFO 19424 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-22T19:23:55.837+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-01-22T19:23:55.837+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-01-22T19:23:55.837+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-01-22T19:23:55.845+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5e8372b8
2025-01-22T19:23:55.845+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5bab61e7
2025-01-22T19:23:55.845+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-22T19:23:55.853+03:00  INFO 19424 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 16 ms
2025-01-22T19:23:55.869+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /update/11
2025-01-22T19:23:55.918+03:00 ERROR 19424 --- [books_service] [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

io.jsonwebtoken.ExpiredJwtException: JWT expired at 2024-12-18T16:26:48Z. Current time: 2025-01-22T16:23:55Z, a difference of 3023827918 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427) ~[jjwt-impl-0.11.5.jar:0.11.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529) ~[jjwt-impl-0.11.5.jar:0.11.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589) ~[jjwt-impl-0.11.5.jar:0.11.5]
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173) ~[jjwt-impl-0.11.5.jar:0.11.5]
	at com.example.books_service.auth.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:41) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.1.jar:6.4.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.1.jar:6.4.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.0.jar:6.2.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.0.jar:6.2.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-01-22T19:23:55.926+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-01-22T19:23:55.926+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-01-22T19:23:55.945+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-01-22T19:24:02.750+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /auth/login
2025-01-22T19:24:02.750+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /auth/login
2025-01-22T19:24:02.750+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-01-22T19:24:02.750+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.AuthController#login(AuthRequest)
2025-01-22T19:24:02.816+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(username=user, password=user)]
2025-01-22T19:24:02.962+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-3] org.hibernate.SQL                        : select ue1_0.id,ue1_0.password,ue1_0.username from users ue1_0 where ue1_0.username=?
2025-01-22T19:24:03.063+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T19:24:03.063+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.example.books_service.dto.auth.AuthResponse@60974ad5]
2025-01-22T19:24:03.079+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-01-22T19:24:03.079+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-01-22T19:24:15.379+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /update/11
2025-01-22T19:24:15.436+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-01-22T19:24:15.436+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3c46da5e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EBF8576F59A2BAC6690365CB6102B5FD], Granted Authorities=[]]
2025-01-22T19:24:15.436+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /update/11
2025-01-22T19:24:15.436+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : PUT "/update/11", parameters={}
2025-01-22T19:24:15.436+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.CrudController#updateById(Long, BookDTO)
2025-01-22T19:24:15.492+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [BookDTO[id=11, isbn=4444444444444, title=null, genres=[GenreDTO[genre=fantasy]], description=, autho (truncated)...]
2025-01-22T19:24:15.557+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.example.books_service.validator.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException, WebRequest)
2025-01-22T19:24:15.565+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T19:24:15.565+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [com.example.books_service.dto.Response@7aeab4cf]
2025-01-22T19:24:15.565+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<?> com.example.books_service.rest.CrudController.updateById(java.lang.Long,com.example.books_service.dto.BookDTO): [Field error in object 'bookDTO' on field 'title': rejected value [null]; codes [NotEmpty.bookDTO.title,NotEmpty.title,NotEmpty.java.lang.String,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [bookDTO.title,title]; arguments []; default message [title]]; default message [title must be not empty]] ]
2025-01-22T19:24:15.565+03:00 DEBUG 19424 --- [books_service] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-01-22T19:25:43.528+03:00  INFO 19424 --- [books_service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-22T19:25:43.535+03:00  INFO 19424 --- [books_service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-01-22T19:25:43.544+03:00  INFO 19424 --- [books_service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T19:25:43.544+03:00  INFO 19424 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T19:25:43.552+03:00  INFO 19424 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T19:25:48.621+03:00  INFO 18732 --- [books_service] [main] c.e.b.BooksServiceApplication            : Starting BooksServiceApplication using Java 21.0.5 with PID 18732 (D:\Leva\IT\Modsen\book_service\book_service\target\classes started by User in D:\Leva\IT\Modsen\book_service\book_service)
2025-01-22T19:25:48.621+03:00  INFO 18732 --- [books_service] [main] c.e.b.BooksServiceApplication            : No active profile set, falling back to 1 default profile: "default"
2025-01-22T19:25:49.469+03:00  INFO 18732 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T19:25:49.545+03:00  INFO 18732 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 68 ms. Found 4 JPA repository interfaces.
2025-01-22T19:25:50.125+03:00  INFO 18732 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-01-22T19:25:50.133+03:00  INFO 18732 --- [books_service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-22T19:25:50.133+03:00  INFO 18732 --- [books_service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2025-01-22T19:25:50.190+03:00  INFO 18732 --- [books_service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-22T19:25:50.190+03:00  INFO 18732 --- [books_service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1518 ms
2025-01-22T19:25:50.307+03:00  INFO 18732 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T19:25:50.482+03:00  INFO 18732 --- [books_service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3e6ec74
2025-01-22T19:25:50.491+03:00  INFO 18732 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T19:25:51.116+03:00  INFO 18732 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T19:25:51.168+03:00  INFO 18732 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T19:25:51.176+03:00  INFO 18732 --- [books_service] [main] liquibase.util                           : UPDATE SUMMARY
2025-01-22T19:25:51.176+03:00  INFO 18732 --- [books_service] [main] liquibase.util                           : Run:                          0
2025-01-22T19:25:51.176+03:00  INFO 18732 --- [books_service] [main] liquibase.util                           : Previously run:               7
2025-01-22T19:25:51.176+03:00  INFO 18732 --- [books_service] [main] liquibase.util                           : Filtered out:                 0
2025-01-22T19:25:51.176+03:00  INFO 18732 --- [books_service] [main] liquibase.util                           : -------------------------------
2025-01-22T19:25:51.176+03:00  INFO 18732 --- [books_service] [main] liquibase.util                           : Total change sets:            7

2025-01-22T19:25:51.176+03:00  INFO 18732 --- [books_service] [main] liquibase.util                           : Update summary generated
2025-01-22T19:25:51.211+03:00  INFO 18732 --- [books_service] [main] liquibase.lockservice                    : Successfully released change log lock
2025-01-22T19:25:51.211+03:00  INFO 18732 --- [books_service] [main] liquibase.command                        : Command execution complete
2025-01-22T19:25:51.292+03:00  INFO 18732 --- [books_service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T19:25:51.349+03:00  INFO 18732 --- [books_service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2025-01-22T19:25:51.384+03:00  INFO 18732 --- [books_service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T19:25:51.625+03:00  INFO 18732 --- [books_service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T19:25:51.685+03:00  INFO 18732 --- [books_service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-22T19:25:51.693+03:00 DEBUG 18732 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@1297cf8) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@37e15055)
2025-01-22T19:25:51.693+03:00 DEBUG 18732 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@57d1edf0) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@39adf4e6)
2025-01-22T19:25:52.402+03:00  INFO 18732 --- [books_service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T19:25:52.402+03:00  INFO 18732 --- [books_service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T19:25:52.742+03:00  INFO 18732 --- [books_service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-22T19:25:53.267+03:00  WARN 18732 --- [books_service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-22T19:25:53.300+03:00 DEBUG 18732 --- [books_service] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-01-22T19:25:53.457+03:00 DEBUG 18732 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2025-01-22T19:25:53.532+03:00 DEBUG 18732 --- [books_service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-01-22T19:25:53.601+03:00 DEBUG 18732 --- [books_service] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-01-22T19:25:53.649+03:00 DEBUG 18732 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-22T19:25:53.690+03:00  WARN 18732 --- [books_service] [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-01-22T19:25:53.717+03:00 DEBUG 18732 --- [books_service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-22T19:25:53.934+03:00  INFO 18732 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-01-22T19:25:53.943+03:00  INFO 18732 --- [books_service] [main] c.e.b.BooksServiceApplication            : Started BooksServiceApplication in 5.782 seconds (process running for 6.161)
2025-01-22T19:25:57.678+03:00  INFO 18732 --- [books_service] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-22T19:25:57.678+03:00  INFO 18732 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-22T19:25:57.678+03:00 DEBUG 18732 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-01-22T19:25:57.678+03:00 DEBUG 18732 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-01-22T19:25:57.678+03:00 DEBUG 18732 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-01-22T19:25:57.678+03:00 DEBUG 18732 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@57110a9d
2025-01-22T19:25:57.678+03:00 DEBUG 18732 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@239462d2
2025-01-22T19:25:57.678+03:00 DEBUG 18732 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-22T19:25:57.678+03:00  INFO 18732 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-01-22T19:25:57.694+03:00 DEBUG 18732 --- [books_service] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /update/11
2025-01-22T19:25:57.767+03:00 DEBUG 18732 --- [books_service] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-01-22T19:25:57.767+03:00 DEBUG 18732 --- [books_service] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3c46da5e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-01-22T19:25:57.775+03:00 DEBUG 18732 --- [books_service] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /update/11
2025-01-22T19:25:57.775+03:00 DEBUG 18732 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/update/11", parameters={}
2025-01-22T19:25:57.775+03:00 DEBUG 18732 --- [books_service] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.CrudController#updateById(Long, BookDTO)
2025-01-22T19:25:57.843+03:00 DEBUG 18732 --- [books_service] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [BookDTO[id=11, isbn=4444444444444, title=null, genres=[GenreDTO[genre=fantasy]], description=, autho (truncated)...]
2025-01-22T19:25:57.892+03:00 DEBUG 18732 --- [books_service] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.example.books_service.validator.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException, WebRequest)
2025-01-22T19:25:57.908+03:00 DEBUG 18732 --- [books_service] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T19:25:57.908+03:00 DEBUG 18732 --- [books_service] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [com.example.books_service.dto.Response@616d6ea1]
2025-01-22T19:25:57.916+03:00 DEBUG 18732 --- [books_service] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<?> com.example.books_service.rest.CrudController.updateById(java.lang.Long,com.example.books_service.dto.BookDTO) with 2 errors: [Field error in object 'bookDTO' on field 'title': rejected value [null]; codes [NotNull.bookDTO.title,NotNull.title,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [bookDTO.title,title]; arguments []; default message [title]]; default message [title must be not null]] [Field error in object 'bookDTO' on field 'title': rejected value [null]; codes [NotEmpty.bookDTO.title,NotEmpty.title,NotEmpty.java.lang.String,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [bookDTO.title,title]; arguments []; default message [title]]; default message [title must be not empty]] ]
2025-01-22T19:25:57.916+03:00 DEBUG 18732 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-01-22T19:26:09.304+03:00  INFO 18732 --- [books_service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-22T19:26:09.313+03:00  INFO 18732 --- [books_service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-01-22T19:26:09.313+03:00  INFO 18732 --- [books_service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T19:26:09.313+03:00  INFO 18732 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T19:26:09.321+03:00  INFO 18732 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T19:26:14.592+03:00  INFO 3468 --- [books_service] [main] c.e.b.BooksServiceApplication            : Starting BooksServiceApplication using Java 21.0.5 with PID 3468 (D:\Leva\IT\Modsen\book_service\book_service\target\classes started by User in D:\Leva\IT\Modsen\book_service\book_service)
2025-01-22T19:26:14.594+03:00  INFO 3468 --- [books_service] [main] c.e.b.BooksServiceApplication            : No active profile set, falling back to 1 default profile: "default"
2025-01-22T19:26:15.430+03:00  INFO 3468 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T19:26:15.505+03:00  INFO 3468 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 4 JPA repository interfaces.
2025-01-22T19:26:16.117+03:00  INFO 3468 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-01-22T19:26:16.133+03:00  INFO 3468 --- [books_service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-22T19:26:16.133+03:00  INFO 3468 --- [books_service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2025-01-22T19:26:16.207+03:00  INFO 3468 --- [books_service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-22T19:26:16.207+03:00  INFO 3468 --- [books_service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1573 ms
2025-01-22T19:26:16.367+03:00  INFO 3468 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T19:26:16.567+03:00  INFO 3468 --- [books_service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3caee3a8
2025-01-22T19:26:16.575+03:00  INFO 3468 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T19:26:17.245+03:00  INFO 3468 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T19:26:17.301+03:00  INFO 3468 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T19:26:17.309+03:00  INFO 3468 --- [books_service] [main] liquibase.util                           : UPDATE SUMMARY
2025-01-22T19:26:17.309+03:00  INFO 3468 --- [books_service] [main] liquibase.util                           : Run:                          0
2025-01-22T19:26:17.309+03:00  INFO 3468 --- [books_service] [main] liquibase.util                           : Previously run:               7
2025-01-22T19:26:17.309+03:00  INFO 3468 --- [books_service] [main] liquibase.util                           : Filtered out:                 0
2025-01-22T19:26:17.309+03:00  INFO 3468 --- [books_service] [main] liquibase.util                           : -------------------------------
2025-01-22T19:26:17.309+03:00  INFO 3468 --- [books_service] [main] liquibase.util                           : Total change sets:            7

2025-01-22T19:26:17.309+03:00  INFO 3468 --- [books_service] [main] liquibase.util                           : Update summary generated
2025-01-22T19:26:17.338+03:00  INFO 3468 --- [books_service] [main] liquibase.lockservice                    : Successfully released change log lock
2025-01-22T19:26:17.341+03:00  INFO 3468 --- [books_service] [main] liquibase.command                        : Command execution complete
2025-01-22T19:26:17.433+03:00  INFO 3468 --- [books_service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T19:26:17.492+03:00  INFO 3468 --- [books_service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2025-01-22T19:26:17.533+03:00  INFO 3468 --- [books_service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T19:26:17.741+03:00  INFO 3468 --- [books_service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T19:26:17.800+03:00  INFO 3468 --- [books_service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-22T19:26:17.808+03:00 DEBUG 3468 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@1611ce1c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@40cd02fc)
2025-01-22T19:26:17.808+03:00 DEBUG 3468 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7fd7965b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@9742012)
2025-01-22T19:26:18.533+03:00  INFO 3468 --- [books_service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T19:26:18.533+03:00  INFO 3468 --- [books_service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T19:26:18.917+03:00  INFO 3468 --- [books_service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-22T19:26:19.448+03:00  WARN 3468 --- [books_service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-22T19:26:19.481+03:00 DEBUG 3468 --- [books_service] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-01-22T19:26:19.640+03:00 DEBUG 3468 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2025-01-22T19:26:19.730+03:00 DEBUG 3468 --- [books_service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-01-22T19:26:19.773+03:00 DEBUG 3468 --- [books_service] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-01-22T19:26:19.830+03:00 DEBUG 3468 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-22T19:26:19.873+03:00  WARN 3468 --- [books_service] [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-01-22T19:26:19.900+03:00 DEBUG 3468 --- [books_service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-22T19:26:20.098+03:00  INFO 3468 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-01-22T19:26:20.106+03:00  INFO 3468 --- [books_service] [main] c.e.b.BooksServiceApplication            : Started BooksServiceApplication in 5.971 seconds (process running for 6.37)
2025-01-22T19:26:24.644+03:00  INFO 3468 --- [books_service] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-22T19:26:24.644+03:00  INFO 3468 --- [books_service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-22T19:26:24.644+03:00 DEBUG 3468 --- [books_service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-01-22T19:26:24.644+03:00 DEBUG 3468 --- [books_service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-01-22T19:26:24.644+03:00 DEBUG 3468 --- [books_service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-01-22T19:26:24.644+03:00 DEBUG 3468 --- [books_service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@70d8f66
2025-01-22T19:26:24.644+03:00 DEBUG 3468 --- [books_service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@c2c496d
2025-01-22T19:26:24.644+03:00 DEBUG 3468 --- [books_service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-22T19:26:24.644+03:00  INFO 3468 --- [books_service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-01-22T19:26:24.668+03:00 DEBUG 3468 --- [books_service] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing PUT /update/11
2025-01-22T19:26:24.742+03:00 DEBUG 3468 --- [books_service] [http-nio-8080-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-01-22T19:26:24.742+03:00 DEBUG 3468 --- [books_service] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3c46da5e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-01-22T19:26:24.742+03:00 DEBUG 3468 --- [books_service] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured PUT /update/11
2025-01-22T19:26:24.742+03:00 DEBUG 3468 --- [books_service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : PUT "/update/11", parameters={}
2025-01-22T19:26:24.742+03:00 DEBUG 3468 --- [books_service] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.CrudController#updateById(Long, BookDTO)
2025-01-22T19:26:24.820+03:00 DEBUG 3468 --- [books_service] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [BookDTO[id=11, isbn=4444444444444, title=null, genres=[GenreDTO[genre=fantasy]], description=, autho (truncated)...]
2025-01-22T19:26:24.869+03:00 DEBUG 3468 --- [books_service] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.example.books_service.validator.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException, WebRequest)
2025-01-22T19:26:24.885+03:00 DEBUG 3468 --- [books_service] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T19:26:24.885+03:00 DEBUG 3468 --- [books_service] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [com.example.books_service.dto.Response@25eb9c9e]
2025-01-22T19:26:24.893+03:00 DEBUG 3468 --- [books_service] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<?> com.example.books_service.rest.CrudController.updateById(java.lang.Long,com.example.books_service.dto.BookDTO): [Field error in object 'bookDTO' on field 'title': rejected value [null]; codes [NotEmpty.bookDTO.title,NotEmpty.title,NotEmpty.java.lang.String,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [bookDTO.title,title]; arguments []; default message [title]]; default message [title must be not empty]] ]
2025-01-22T19:26:24.893+03:00 DEBUG 3468 --- [books_service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-01-22T19:28:13.606+03:00  INFO 3468 --- [books_service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-22T19:28:13.610+03:00  INFO 3468 --- [books_service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-01-22T19:28:13.610+03:00  INFO 3468 --- [books_service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T19:28:13.618+03:00  INFO 3468 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T19:28:13.618+03:00  INFO 3468 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T19:28:18.748+03:00  INFO 8464 --- [books_service] [main] c.e.b.BooksServiceApplication            : Starting BooksServiceApplication using Java 21.0.5 with PID 8464 (D:\Leva\IT\Modsen\book_service\book_service\target\classes started by User in D:\Leva\IT\Modsen\book_service\book_service)
2025-01-22T19:28:18.748+03:00  INFO 8464 --- [books_service] [main] c.e.b.BooksServiceApplication            : No active profile set, falling back to 1 default profile: "default"
2025-01-22T19:28:19.610+03:00  INFO 8464 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T19:28:19.686+03:00  INFO 8464 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59 ms. Found 4 JPA repository interfaces.
2025-01-22T19:28:20.246+03:00  INFO 8464 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-01-22T19:28:20.257+03:00  INFO 8464 --- [books_service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-22T19:28:20.257+03:00  INFO 8464 --- [books_service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2025-01-22T19:28:20.305+03:00  INFO 8464 --- [books_service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-22T19:28:20.313+03:00  INFO 8464 --- [books_service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1524 ms
2025-01-22T19:28:20.430+03:00  INFO 8464 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T19:28:20.619+03:00  INFO 8464 --- [books_service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3caee3a8
2025-01-22T19:28:20.619+03:00  INFO 8464 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T19:28:21.239+03:00  INFO 8464 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T19:28:21.280+03:00  INFO 8464 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T19:28:21.296+03:00  INFO 8464 --- [books_service] [main] liquibase.util                           : UPDATE SUMMARY
2025-01-22T19:28:21.296+03:00  INFO 8464 --- [books_service] [main] liquibase.util                           : Run:                          0
2025-01-22T19:28:21.296+03:00  INFO 8464 --- [books_service] [main] liquibase.util                           : Previously run:               7
2025-01-22T19:28:21.296+03:00  INFO 8464 --- [books_service] [main] liquibase.util                           : Filtered out:                 0
2025-01-22T19:28:21.296+03:00  INFO 8464 --- [books_service] [main] liquibase.util                           : -------------------------------
2025-01-22T19:28:21.296+03:00  INFO 8464 --- [books_service] [main] liquibase.util                           : Total change sets:            7

2025-01-22T19:28:21.296+03:00  INFO 8464 --- [books_service] [main] liquibase.util                           : Update summary generated
2025-01-22T19:28:21.331+03:00  INFO 8464 --- [books_service] [main] liquibase.lockservice                    : Successfully released change log lock
2025-01-22T19:28:21.331+03:00  INFO 8464 --- [books_service] [main] liquibase.command                        : Command execution complete
2025-01-22T19:28:21.405+03:00  INFO 8464 --- [books_service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T19:28:21.463+03:00  INFO 8464 --- [books_service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2025-01-22T19:28:21.496+03:00  INFO 8464 --- [books_service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T19:28:21.729+03:00  INFO 8464 --- [books_service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T19:28:21.781+03:00  INFO 8464 --- [books_service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-22T19:28:21.797+03:00 DEBUG 8464 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@1611ce1c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@40cd02fc)
2025-01-22T19:28:21.797+03:00 DEBUG 8464 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7fd7965b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@9742012)
2025-01-22T19:28:22.537+03:00  INFO 8464 --- [books_service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T19:28:22.540+03:00  INFO 8464 --- [books_service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T19:28:22.902+03:00  INFO 8464 --- [books_service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-22T19:28:23.428+03:00  WARN 8464 --- [books_service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-22T19:28:23.453+03:00 DEBUG 8464 --- [books_service] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-01-22T19:28:23.647+03:00 DEBUG 8464 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2025-01-22T19:28:23.720+03:00 DEBUG 8464 --- [books_service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-01-22T19:28:23.769+03:00 DEBUG 8464 --- [books_service] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-01-22T19:28:23.819+03:00 DEBUG 8464 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-22T19:28:23.861+03:00  WARN 8464 --- [books_service] [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-01-22T19:28:23.881+03:00 DEBUG 8464 --- [books_service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-22T19:28:24.094+03:00  INFO 8464 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-01-22T19:28:24.102+03:00  INFO 8464 --- [books_service] [main] c.e.b.BooksServiceApplication            : Started BooksServiceApplication in 5.802 seconds (process running for 6.189)
2025-01-22T19:28:29.136+03:00  INFO 8464 --- [books_service] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-22T19:28:29.136+03:00  INFO 8464 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-22T19:28:29.136+03:00 DEBUG 8464 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-01-22T19:28:29.136+03:00 DEBUG 8464 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-01-22T19:28:29.136+03:00 DEBUG 8464 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-01-22T19:28:29.136+03:00 DEBUG 8464 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@70d8f66
2025-01-22T19:28:29.136+03:00 DEBUG 8464 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@c2c496d
2025-01-22T19:28:29.136+03:00 DEBUG 8464 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-22T19:28:29.136+03:00  INFO 8464 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-01-22T19:28:29.169+03:00 DEBUG 8464 --- [books_service] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /update/11
2025-01-22T19:28:29.242+03:00 DEBUG 8464 --- [books_service] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-01-22T19:28:29.242+03:00 DEBUG 8464 --- [books_service] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3c46da5e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-01-22T19:28:29.251+03:00 DEBUG 8464 --- [books_service] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /update/11
2025-01-22T19:28:29.251+03:00 DEBUG 8464 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/update/11", parameters={}
2025-01-22T19:28:29.251+03:00 DEBUG 8464 --- [books_service] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.CrudController#updateById(Long, BookDTO)
2025-01-22T19:28:29.327+03:00 DEBUG 8464 --- [books_service] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [BookDTO[id=11, isbn=4444444444444, title=null, genres=[GenreDTO[genre=fantasy]], description=, autho (truncated)...]
2025-01-22T19:28:29.384+03:00 DEBUG 8464 --- [books_service] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.example.books_service.validator.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException, WebRequest)
2025-01-22T19:28:29.402+03:00 DEBUG 8464 --- [books_service] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T19:28:29.402+03:00 DEBUG 8464 --- [books_service] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [com.example.books_service.dto.Response@571e31f6]
2025-01-22T19:28:29.411+03:00 DEBUG 8464 --- [books_service] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<?> com.example.books_service.rest.CrudController.updateById(java.lang.Long,com.example.books_service.dto.BookDTO): [Field error in object 'bookDTO' on field 'title': rejected value [null]; codes [NotEmpty.bookDTO.title,NotEmpty.title,NotEmpty.java.lang.String,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [bookDTO.title,title]; arguments []; default message [title]]; default message [title must be not empty]] ]
2025-01-22T19:28:29.411+03:00 DEBUG 8464 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-01-22T19:29:05.278+03:00  INFO 8464 --- [books_service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-22T19:29:05.278+03:00  INFO 8464 --- [books_service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-01-22T19:29:05.286+03:00  INFO 8464 --- [books_service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T19:29:05.294+03:00  INFO 8464 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T19:29:05.295+03:00  INFO 8464 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T19:29:10.879+03:00  INFO 19032 --- [books_service] [main] c.e.b.BooksServiceApplication            : Starting BooksServiceApplication using Java 21.0.5 with PID 19032 (D:\Leva\IT\Modsen\book_service\book_service\target\classes started by User in D:\Leva\IT\Modsen\book_service\book_service)
2025-01-22T19:29:10.887+03:00  INFO 19032 --- [books_service] [main] c.e.b.BooksServiceApplication            : No active profile set, falling back to 1 default profile: "default"
2025-01-22T19:29:11.729+03:00  INFO 19032 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T19:29:11.807+03:00  INFO 19032 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 4 JPA repository interfaces.
2025-01-22T19:29:12.403+03:00  INFO 19032 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-01-22T19:29:12.411+03:00  INFO 19032 --- [books_service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-22T19:29:12.411+03:00  INFO 19032 --- [books_service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2025-01-22T19:29:12.481+03:00  INFO 19032 --- [books_service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-22T19:29:12.481+03:00  INFO 19032 --- [books_service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1558 ms
2025-01-22T19:29:12.603+03:00  INFO 19032 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T19:29:12.770+03:00  INFO 19032 --- [books_service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@69a40b3c
2025-01-22T19:29:12.770+03:00  INFO 19032 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T19:29:13.387+03:00  INFO 19032 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T19:29:13.437+03:00  INFO 19032 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T19:29:13.445+03:00  INFO 19032 --- [books_service] [main] liquibase.util                           : UPDATE SUMMARY
2025-01-22T19:29:13.445+03:00  INFO 19032 --- [books_service] [main] liquibase.util                           : Run:                          0
2025-01-22T19:29:13.445+03:00  INFO 19032 --- [books_service] [main] liquibase.util                           : Previously run:               7
2025-01-22T19:29:13.445+03:00  INFO 19032 --- [books_service] [main] liquibase.util                           : Filtered out:                 0
2025-01-22T19:29:13.445+03:00  INFO 19032 --- [books_service] [main] liquibase.util                           : -------------------------------
2025-01-22T19:29:13.445+03:00  INFO 19032 --- [books_service] [main] liquibase.util                           : Total change sets:            7

2025-01-22T19:29:13.445+03:00  INFO 19032 --- [books_service] [main] liquibase.util                           : Update summary generated
2025-01-22T19:29:13.482+03:00  INFO 19032 --- [books_service] [main] liquibase.lockservice                    : Successfully released change log lock
2025-01-22T19:29:13.482+03:00  INFO 19032 --- [books_service] [main] liquibase.command                        : Command execution complete
2025-01-22T19:29:13.569+03:00  INFO 19032 --- [books_service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T19:29:13.618+03:00  INFO 19032 --- [books_service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2025-01-22T19:29:13.653+03:00  INFO 19032 --- [books_service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T19:29:13.894+03:00  INFO 19032 --- [books_service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T19:29:13.945+03:00  INFO 19032 --- [books_service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-22T19:29:13.945+03:00 DEBUG 19032 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@39ff4421) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@7a59780b)
2025-01-22T19:29:13.945+03:00 DEBUG 19032 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5205b3e2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2802caa2)
2025-01-22T19:29:14.696+03:00  INFO 19032 --- [books_service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T19:29:14.696+03:00  INFO 19032 --- [books_service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T19:29:15.028+03:00  INFO 19032 --- [books_service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-22T19:29:15.577+03:00  WARN 19032 --- [books_service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-22T19:29:15.604+03:00 DEBUG 19032 --- [books_service] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-01-22T19:29:15.762+03:00 DEBUG 19032 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2025-01-22T19:29:15.846+03:00 DEBUG 19032 --- [books_service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-01-22T19:29:15.897+03:00 DEBUG 19032 --- [books_service] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-01-22T19:29:15.948+03:00 DEBUG 19032 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-22T19:29:15.989+03:00  WARN 19032 --- [books_service] [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-01-22T19:29:16.013+03:00 DEBUG 19032 --- [books_service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-22T19:29:16.218+03:00  INFO 19032 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-01-22T19:29:16.226+03:00  INFO 19032 --- [books_service] [main] c.e.b.BooksServiceApplication            : Started BooksServiceApplication in 5.863 seconds (process running for 6.28)
2025-01-22T19:29:20.204+03:00  INFO 19032 --- [books_service] [http-nio-8080-exec-6] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-22T19:29:20.204+03:00  INFO 19032 --- [books_service] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-22T19:29:20.204+03:00 DEBUG 19032 --- [books_service] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-01-22T19:29:20.204+03:00 DEBUG 19032 --- [books_service] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-01-22T19:29:20.204+03:00 DEBUG 19032 --- [books_service] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-01-22T19:29:20.204+03:00 DEBUG 19032 --- [books_service] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3324f7fb
2025-01-22T19:29:20.204+03:00 DEBUG 19032 --- [books_service] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5e8372b8
2025-01-22T19:29:20.204+03:00 DEBUG 19032 --- [books_service] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-22T19:29:20.204+03:00  INFO 19032 --- [books_service] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-01-22T19:29:20.220+03:00 DEBUG 19032 --- [books_service] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing PUT /update/11
2025-01-22T19:29:20.318+03:00 DEBUG 19032 --- [books_service] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-01-22T19:29:20.318+03:00 DEBUG 19032 --- [books_service] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3c46da5e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-01-22T19:29:20.318+03:00 DEBUG 19032 --- [books_service] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured PUT /update/11
2025-01-22T19:29:20.326+03:00 DEBUG 19032 --- [books_service] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : PUT "/update/11", parameters={}
2025-01-22T19:29:20.326+03:00 DEBUG 19032 --- [books_service] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.CrudController#updateById(Long, BookDTO)
2025-01-22T19:29:20.400+03:00 DEBUG 19032 --- [books_service] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [BookDTO[id=11, isbn=4444444444444, title=null, genres=[GenreDTO[genre=fantasy]], description=, autho (truncated)...]
2025-01-22T19:29:20.460+03:00 DEBUG 19032 --- [books_service] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.example.books_service.validator.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException, WebRequest)
2025-01-22T19:29:20.468+03:00 DEBUG 19032 --- [books_service] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T19:29:20.477+03:00 DEBUG 19032 --- [books_service] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [com.example.books_service.dto.Response@63e1f6b3]
2025-01-22T19:29:20.484+03:00 DEBUG 19032 --- [books_service] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<?> com.example.books_service.rest.CrudController.updateById(java.lang.Long,com.example.books_service.dto.BookDTO): [Field error in object 'bookDTO' on field 'title': rejected value [null]; codes [NotEmpty.bookDTO.title,NotEmpty.title,NotEmpty.java.lang.String,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [bookDTO.title,title]; arguments []; default message [title]]; default message [title must be not empty]] ]
2025-01-22T19:29:20.484+03:00 DEBUG 19032 --- [books_service] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-01-22T19:32:35.431+03:00  INFO 19032 --- [books_service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-22T19:32:35.439+03:00  INFO 19032 --- [books_service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-01-22T19:32:35.439+03:00  INFO 19032 --- [books_service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T19:32:35.439+03:00  INFO 19032 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T19:32:35.448+03:00  INFO 19032 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T19:32:40.404+03:00  INFO 16364 --- [books_service] [main] c.e.b.BooksServiceApplication            : Starting BooksServiceApplication using Java 21.0.5 with PID 16364 (D:\Leva\IT\Modsen\book_service\book_service\target\classes started by User in D:\Leva\IT\Modsen\book_service\book_service)
2025-01-22T19:32:40.404+03:00  INFO 16364 --- [books_service] [main] c.e.b.BooksServiceApplication            : No active profile set, falling back to 1 default profile: "default"
2025-01-22T19:32:41.217+03:00  INFO 16364 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T19:32:41.298+03:00  INFO 16364 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 67 ms. Found 4 JPA repository interfaces.
2025-01-22T19:32:41.932+03:00  INFO 16364 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-01-22T19:32:41.948+03:00  INFO 16364 --- [books_service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-22T19:32:41.948+03:00  INFO 16364 --- [books_service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2025-01-22T19:32:41.991+03:00  INFO 16364 --- [books_service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-22T19:32:41.991+03:00  INFO 16364 --- [books_service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1547 ms
2025-01-22T19:32:42.119+03:00  INFO 16364 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T19:32:42.301+03:00  INFO 16364 --- [books_service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@69a40b3c
2025-01-22T19:32:42.301+03:00  INFO 16364 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T19:32:42.964+03:00  INFO 16364 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T19:32:43.026+03:00  INFO 16364 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T19:32:43.026+03:00  INFO 16364 --- [books_service] [main] liquibase.util                           : UPDATE SUMMARY
2025-01-22T19:32:43.034+03:00  INFO 16364 --- [books_service] [main] liquibase.util                           : Run:                          0
2025-01-22T19:32:43.034+03:00  INFO 16364 --- [books_service] [main] liquibase.util                           : Previously run:               7
2025-01-22T19:32:43.034+03:00  INFO 16364 --- [books_service] [main] liquibase.util                           : Filtered out:                 0
2025-01-22T19:32:43.034+03:00  INFO 16364 --- [books_service] [main] liquibase.util                           : -------------------------------
2025-01-22T19:32:43.034+03:00  INFO 16364 --- [books_service] [main] liquibase.util                           : Total change sets:            7

2025-01-22T19:32:43.034+03:00  INFO 16364 --- [books_service] [main] liquibase.util                           : Update summary generated
2025-01-22T19:32:43.074+03:00  INFO 16364 --- [books_service] [main] liquibase.lockservice                    : Successfully released change log lock
2025-01-22T19:32:43.074+03:00  INFO 16364 --- [books_service] [main] liquibase.command                        : Command execution complete
2025-01-22T19:32:43.166+03:00  INFO 16364 --- [books_service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T19:32:43.223+03:00  INFO 16364 --- [books_service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2025-01-22T19:32:43.255+03:00  INFO 16364 --- [books_service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T19:32:43.466+03:00  INFO 16364 --- [books_service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T19:32:43.515+03:00  INFO 16364 --- [books_service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-22T19:32:43.523+03:00 DEBUG 16364 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@39ff4421) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@7a59780b)
2025-01-22T19:32:43.523+03:00 DEBUG 16364 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5205b3e2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2802caa2)
2025-01-22T19:32:44.257+03:00  INFO 16364 --- [books_service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T19:32:44.265+03:00  INFO 16364 --- [books_service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T19:32:44.598+03:00  INFO 16364 --- [books_service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-22T19:32:45.094+03:00  WARN 16364 --- [books_service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-22T19:32:45.121+03:00 DEBUG 16364 --- [books_service] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-01-22T19:32:45.270+03:00 DEBUG 16364 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2025-01-22T19:32:45.370+03:00 DEBUG 16364 --- [books_service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-01-22T19:32:45.421+03:00 DEBUG 16364 --- [books_service] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-01-22T19:32:45.473+03:00 DEBUG 16364 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-22T19:32:45.521+03:00  WARN 16364 --- [books_service] [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-01-22T19:32:45.545+03:00 DEBUG 16364 --- [books_service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-22T19:32:45.749+03:00  INFO 16364 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-01-22T19:32:45.757+03:00  INFO 16364 --- [books_service] [main] c.e.b.BooksServiceApplication            : Started BooksServiceApplication in 5.777 seconds (process running for 6.146)
2025-01-22T19:32:52.343+03:00  INFO 16364 --- [books_service] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-22T19:32:52.343+03:00  INFO 16364 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-22T19:32:52.343+03:00 DEBUG 16364 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-01-22T19:32:52.343+03:00 DEBUG 16364 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-01-22T19:32:52.343+03:00 DEBUG 16364 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-01-22T19:32:52.343+03:00 DEBUG 16364 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3324f7fb
2025-01-22T19:32:52.343+03:00 DEBUG 16364 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5e8372b8
2025-01-22T19:32:52.343+03:00 DEBUG 16364 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-22T19:32:52.343+03:00  INFO 16364 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-01-22T19:32:52.359+03:00 DEBUG 16364 --- [books_service] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /update/11
2025-01-22T19:32:52.434+03:00 DEBUG 16364 --- [books_service] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-01-22T19:32:52.434+03:00 DEBUG 16364 --- [books_service] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3c46da5e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-01-22T19:32:52.442+03:00 DEBUG 16364 --- [books_service] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /update/11
2025-01-22T19:32:52.442+03:00 DEBUG 16364 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/update/11", parameters={}
2025-01-22T19:32:52.442+03:00 DEBUG 16364 --- [books_service] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.CrudController#updateById(Long, BookDTO)
2025-01-22T19:32:52.510+03:00 DEBUG 16364 --- [books_service] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [BookDTO[id=11, isbn=4444444444444, title=null, genres=[GenreDTO[genre=fantasy]], description=, autho (truncated)...]
2025-01-22T19:32:52.569+03:00 DEBUG 16364 --- [books_service] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.example.books_service.validator.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException, WebRequest)
2025-01-22T19:32:52.578+03:00 DEBUG 16364 --- [books_service] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T19:32:52.578+03:00 DEBUG 16364 --- [books_service] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [com.example.books_service.dto.Response@56c6ffdc]
2025-01-22T19:32:52.586+03:00 DEBUG 16364 --- [books_service] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<?> com.example.books_service.rest.CrudController.updateById(java.lang.Long,com.example.books_service.dto.BookDTO): [Field error in object 'bookDTO' on field 'title': rejected value [null]; codes [NotEmpty.bookDTO.title,NotEmpty.title,NotEmpty.java.lang.String,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [bookDTO.title,title]; arguments []; default message [title]]; default message [title must be not empty]] ]
2025-01-22T19:32:52.586+03:00 DEBUG 16364 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-01-22T19:33:53.247+03:00  INFO 16364 --- [books_service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-22T19:33:53.255+03:00  INFO 16364 --- [books_service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-01-22T19:33:53.263+03:00  INFO 16364 --- [books_service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T19:33:53.263+03:00  INFO 16364 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T19:33:53.271+03:00  INFO 16364 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T19:33:58.233+03:00  INFO 6732 --- [books_service] [main] c.e.b.BooksServiceApplication            : Starting BooksServiceApplication using Java 21.0.5 with PID 6732 (D:\Leva\IT\Modsen\book_service\book_service\target\classes started by User in D:\Leva\IT\Modsen\book_service\book_service)
2025-01-22T19:33:58.234+03:00  INFO 6732 --- [books_service] [main] c.e.b.BooksServiceApplication            : No active profile set, falling back to 1 default profile: "default"
2025-01-22T19:33:59.088+03:00  INFO 6732 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T19:33:59.182+03:00  INFO 6732 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 83 ms. Found 4 JPA repository interfaces.
2025-01-22T19:33:59.799+03:00  INFO 6732 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-01-22T19:33:59.816+03:00  INFO 6732 --- [books_service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-22T19:33:59.816+03:00  INFO 6732 --- [books_service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2025-01-22T19:33:59.883+03:00  INFO 6732 --- [books_service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-22T19:33:59.883+03:00  INFO 6732 --- [books_service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1615 ms
2025-01-22T19:34:00.008+03:00  INFO 6732 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T19:34:00.194+03:00  INFO 6732 --- [books_service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@69a40b3c
2025-01-22T19:34:00.194+03:00  INFO 6732 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T19:34:00.842+03:00  INFO 6732 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T19:34:00.886+03:00  INFO 6732 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T19:34:00.894+03:00  INFO 6732 --- [books_service] [main] liquibase.util                           : UPDATE SUMMARY
2025-01-22T19:34:00.894+03:00  INFO 6732 --- [books_service] [main] liquibase.util                           : Run:                          0
2025-01-22T19:34:00.894+03:00  INFO 6732 --- [books_service] [main] liquibase.util                           : Previously run:               7
2025-01-22T19:34:00.894+03:00  INFO 6732 --- [books_service] [main] liquibase.util                           : Filtered out:                 0
2025-01-22T19:34:00.894+03:00  INFO 6732 --- [books_service] [main] liquibase.util                           : -------------------------------
2025-01-22T19:34:00.894+03:00  INFO 6732 --- [books_service] [main] liquibase.util                           : Total change sets:            7

2025-01-22T19:34:00.894+03:00  INFO 6732 --- [books_service] [main] liquibase.util                           : Update summary generated
2025-01-22T19:34:00.918+03:00  INFO 6732 --- [books_service] [main] liquibase.lockservice                    : Successfully released change log lock
2025-01-22T19:34:00.918+03:00  INFO 6732 --- [books_service] [main] liquibase.command                        : Command execution complete
2025-01-22T19:34:01.004+03:00  INFO 6732 --- [books_service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T19:34:01.061+03:00  INFO 6732 --- [books_service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2025-01-22T19:34:01.101+03:00  INFO 6732 --- [books_service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T19:34:01.361+03:00  INFO 6732 --- [books_service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T19:34:01.417+03:00  INFO 6732 --- [books_service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-22T19:34:01.426+03:00 DEBUG 6732 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@39ff4421) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@7a59780b)
2025-01-22T19:34:01.426+03:00 DEBUG 6732 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5205b3e2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2802caa2)
2025-01-22T19:34:02.135+03:00  INFO 6732 --- [books_service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T19:34:02.143+03:00  INFO 6732 --- [books_service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T19:34:02.470+03:00  INFO 6732 --- [books_service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-22T19:34:02.994+03:00  WARN 6732 --- [books_service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-22T19:34:03.020+03:00 DEBUG 6732 --- [books_service] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-01-22T19:34:03.178+03:00 DEBUG 6732 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2025-01-22T19:34:03.271+03:00 DEBUG 6732 --- [books_service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-01-22T19:34:03.328+03:00 DEBUG 6732 --- [books_service] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-01-22T19:34:03.378+03:00 DEBUG 6732 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-22T19:34:03.428+03:00  WARN 6732 --- [books_service] [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-01-22T19:34:03.453+03:00 DEBUG 6732 --- [books_service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-22T19:34:03.667+03:00  INFO 6732 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-01-22T19:34:03.671+03:00  INFO 6732 --- [books_service] [main] c.e.b.BooksServiceApplication            : Started BooksServiceApplication in 5.898 seconds (process running for 6.266)
2025-01-22T19:34:06.900+03:00  INFO 6732 --- [books_service] [http-nio-8080-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-22T19:34:06.900+03:00  INFO 6732 --- [books_service] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-22T19:34:06.900+03:00 DEBUG 6732 --- [books_service] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-01-22T19:34:06.900+03:00 DEBUG 6732 --- [books_service] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-01-22T19:34:06.900+03:00 DEBUG 6732 --- [books_service] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-01-22T19:34:06.900+03:00 DEBUG 6732 --- [books_service] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3324f7fb
2025-01-22T19:34:06.900+03:00 DEBUG 6732 --- [books_service] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5e8372b8
2025-01-22T19:34:06.900+03:00 DEBUG 6732 --- [books_service] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-22T19:34:06.900+03:00  INFO 6732 --- [books_service] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-01-22T19:34:06.917+03:00 DEBUG 6732 --- [books_service] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /update/11
2025-01-22T19:34:06.991+03:00 DEBUG 6732 --- [books_service] [http-nio-8080-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-01-22T19:34:06.991+03:00 DEBUG 6732 --- [books_service] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3c46da5e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-01-22T19:34:06.999+03:00 DEBUG 6732 --- [books_service] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /update/11
2025-01-22T19:34:06.999+03:00 DEBUG 6732 --- [books_service] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : PUT "/update/11", parameters={}
2025-01-22T19:34:06.999+03:00 DEBUG 6732 --- [books_service] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.CrudController#updateById(Long, BookDTO)
2025-01-22T19:34:07.072+03:00 DEBUG 6732 --- [books_service] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [BookDTO[id=11, isbn=4444444444444, title=null, genres=[GenreDTO[genre=fantasy]], description=, autho (truncated)...]
2025-01-22T19:34:07.138+03:00 DEBUG 6732 --- [books_service] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.example.books_service.validator.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException, WebRequest)
2025-01-22T19:34:07.163+03:00 DEBUG 6732 --- [books_service] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T19:34:07.163+03:00 DEBUG 6732 --- [books_service] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [com.example.books_service.dto.Response@5e365b86]
2025-01-22T19:34:07.171+03:00 DEBUG 6732 --- [books_service] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<?> com.example.books_service.rest.CrudController.updateById(java.lang.Long,com.example.books_service.dto.BookDTO): [Field error in object 'bookDTO' on field 'title': rejected value [null]; codes [NotEmpty.bookDTO.title,NotEmpty.title,NotEmpty.java.lang.String,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [bookDTO.title,title]; arguments []; default message [title]]; default message [title must be not empty]] ]
2025-01-22T19:34:07.179+03:00 DEBUG 6732 --- [books_service] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-01-22T19:34:43.275+03:00  INFO 6732 --- [books_service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-22T19:34:43.275+03:00  INFO 6732 --- [books_service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-01-22T19:34:43.285+03:00  INFO 6732 --- [books_service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T19:34:43.285+03:00  INFO 6732 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T19:34:43.291+03:00  INFO 6732 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T19:34:48.495+03:00  INFO 15224 --- [books_service] [main] c.e.b.BooksServiceApplication            : Starting BooksServiceApplication using Java 21.0.5 with PID 15224 (D:\Leva\IT\Modsen\book_service\book_service\target\classes started by User in D:\Leva\IT\Modsen\book_service\book_service)
2025-01-22T19:34:48.503+03:00  INFO 15224 --- [books_service] [main] c.e.b.BooksServiceApplication            : No active profile set, falling back to 1 default profile: "default"
2025-01-22T19:34:49.359+03:00  INFO 15224 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T19:34:49.427+03:00  INFO 15224 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63 ms. Found 4 JPA repository interfaces.
2025-01-22T19:34:49.989+03:00  INFO 15224 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-01-22T19:34:50.006+03:00  INFO 15224 --- [books_service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-22T19:34:50.006+03:00  INFO 15224 --- [books_service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2025-01-22T19:34:50.053+03:00  INFO 15224 --- [books_service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-22T19:34:50.053+03:00  INFO 15224 --- [books_service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1516 ms
2025-01-22T19:34:50.177+03:00  INFO 15224 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T19:34:50.368+03:00  INFO 15224 --- [books_service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3caee3a8
2025-01-22T19:34:50.368+03:00  INFO 15224 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T19:34:50.999+03:00  INFO 15224 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T19:34:51.059+03:00  INFO 15224 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T19:34:51.067+03:00  INFO 15224 --- [books_service] [main] liquibase.util                           : UPDATE SUMMARY
2025-01-22T19:34:51.067+03:00  INFO 15224 --- [books_service] [main] liquibase.util                           : Run:                          0
2025-01-22T19:34:51.067+03:00  INFO 15224 --- [books_service] [main] liquibase.util                           : Previously run:               7
2025-01-22T19:34:51.067+03:00  INFO 15224 --- [books_service] [main] liquibase.util                           : Filtered out:                 0
2025-01-22T19:34:51.067+03:00  INFO 15224 --- [books_service] [main] liquibase.util                           : -------------------------------
2025-01-22T19:34:51.067+03:00  INFO 15224 --- [books_service] [main] liquibase.util                           : Total change sets:            7

2025-01-22T19:34:51.067+03:00  INFO 15224 --- [books_service] [main] liquibase.util                           : Update summary generated
2025-01-22T19:34:51.107+03:00  INFO 15224 --- [books_service] [main] liquibase.lockservice                    : Successfully released change log lock
2025-01-22T19:34:51.107+03:00  INFO 15224 --- [books_service] [main] liquibase.command                        : Command execution complete
2025-01-22T19:34:51.172+03:00  INFO 15224 --- [books_service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T19:34:51.229+03:00  INFO 15224 --- [books_service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2025-01-22T19:34:51.256+03:00  INFO 15224 --- [books_service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T19:34:51.488+03:00  INFO 15224 --- [books_service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T19:34:51.548+03:00  INFO 15224 --- [books_service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-22T19:34:51.548+03:00 DEBUG 15224 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@1611ce1c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@40cd02fc)
2025-01-22T19:34:51.548+03:00 DEBUG 15224 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7fd7965b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@9742012)
2025-01-22T19:34:52.265+03:00  INFO 15224 --- [books_service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T19:34:52.265+03:00  INFO 15224 --- [books_service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T19:34:52.608+03:00  INFO 15224 --- [books_service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-22T19:34:53.115+03:00  WARN 15224 --- [books_service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-22T19:34:53.140+03:00 DEBUG 15224 --- [books_service] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-01-22T19:34:53.305+03:00 DEBUG 15224 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2025-01-22T19:34:53.381+03:00 DEBUG 15224 --- [books_service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-01-22T19:34:53.430+03:00 DEBUG 15224 --- [books_service] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-01-22T19:34:53.489+03:00 DEBUG 15224 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-22T19:34:53.530+03:00  WARN 15224 --- [books_service] [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-01-22T19:34:53.554+03:00 DEBUG 15224 --- [books_service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-22T19:34:53.762+03:00  INFO 15224 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-01-22T19:34:53.773+03:00  INFO 15224 --- [books_service] [main] c.e.b.BooksServiceApplication            : Started BooksServiceApplication in 5.724 seconds (process running for 6.099)
2025-01-22T19:34:56.738+03:00  INFO 15224 --- [books_service] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-22T19:34:56.738+03:00  INFO 15224 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-22T19:34:56.738+03:00 DEBUG 15224 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-01-22T19:34:56.738+03:00 DEBUG 15224 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-01-22T19:34:56.738+03:00 DEBUG 15224 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-01-22T19:34:56.738+03:00 DEBUG 15224 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5e8372b8
2025-01-22T19:34:56.738+03:00 DEBUG 15224 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5bab61e7
2025-01-22T19:34:56.738+03:00 DEBUG 15224 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-22T19:34:56.738+03:00  INFO 15224 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-01-22T19:34:56.755+03:00 DEBUG 15224 --- [books_service] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /update/11
2025-01-22T19:34:56.839+03:00 DEBUG 15224 --- [books_service] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-01-22T19:34:56.839+03:00 DEBUG 15224 --- [books_service] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3c46da5e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-01-22T19:34:56.839+03:00 DEBUG 15224 --- [books_service] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /update/11
2025-01-22T19:34:56.839+03:00 DEBUG 15224 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/update/11", parameters={}
2025-01-22T19:34:56.847+03:00 DEBUG 15224 --- [books_service] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.CrudController#updateById(Long, BookDTO)
2025-01-22T19:34:56.923+03:00 DEBUG 15224 --- [books_service] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [BookDTO[id=11, isbn=4444444444444, title=null, genres=[GenreDTO[genre=fantasy]], description=, autho (truncated)...]
2025-01-22T19:34:56.990+03:00 DEBUG 15224 --- [books_service] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.example.books_service.validator.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException, WebRequest)
2025-01-22T19:34:57.014+03:00 DEBUG 15224 --- [books_service] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T19:34:57.014+03:00 DEBUG 15224 --- [books_service] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [com.example.books_service.dto.Response@4959e724]
2025-01-22T19:34:57.022+03:00 DEBUG 15224 --- [books_service] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<?> com.example.books_service.rest.CrudController.updateById(java.lang.Long,com.example.books_service.dto.BookDTO): [Field error in object 'bookDTO' on field 'title': rejected value [null]; codes [NotEmpty.bookDTO.title,NotEmpty.title,NotEmpty.java.lang.String,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [bookDTO.title,title]; arguments []; default message [title]]; default message [title must be not empty]] ]
2025-01-22T19:34:57.022+03:00 DEBUG 15224 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-01-22T19:35:19.678+03:00  INFO 15224 --- [books_service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-22T19:35:19.686+03:00  INFO 15224 --- [books_service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-01-22T19:35:19.686+03:00  INFO 15224 --- [books_service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T19:35:19.694+03:00  INFO 15224 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T19:35:19.702+03:00  INFO 15224 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-22T19:40:11.936+03:00  INFO 10160 --- [books_service] [main] c.e.b.BooksServiceApplication            : Starting BooksServiceApplication using Java 21.0.5 with PID 10160 (D:\Leva\IT\Modsen\book_service\book_service\target\classes started by User in D:\Leva\IT\Modsen\book_service\book_service)
2025-01-22T19:40:11.936+03:00  INFO 10160 --- [books_service] [main] c.e.b.BooksServiceApplication            : No active profile set, falling back to 1 default profile: "default"
2025-01-22T19:40:12.770+03:00  INFO 10160 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-22T19:40:12.852+03:00  INFO 10160 --- [books_service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 67 ms. Found 4 JPA repository interfaces.
2025-01-22T19:40:13.428+03:00  INFO 10160 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-01-22T19:40:13.436+03:00  INFO 10160 --- [books_service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-22T19:40:13.436+03:00  INFO 10160 --- [books_service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2025-01-22T19:40:13.503+03:00  INFO 10160 --- [books_service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-22T19:40:13.503+03:00  INFO 10160 --- [books_service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1529 ms
2025-01-22T19:40:13.629+03:00  INFO 10160 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-22T19:40:13.813+03:00  INFO 10160 --- [books_service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@251c90f
2025-01-22T19:40:13.813+03:00  INFO 10160 --- [books_service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-22T19:40:14.472+03:00  INFO 10160 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T19:40:14.520+03:00  INFO 10160 --- [books_service] [main] liquibase.changelog                      : Reading from public.databasechangelog
2025-01-22T19:40:14.531+03:00  INFO 10160 --- [books_service] [main] liquibase.util                           : UPDATE SUMMARY
2025-01-22T19:40:14.531+03:00  INFO 10160 --- [books_service] [main] liquibase.util                           : Run:                          0
2025-01-22T19:40:14.531+03:00  INFO 10160 --- [books_service] [main] liquibase.util                           : Previously run:               7
2025-01-22T19:40:14.531+03:00  INFO 10160 --- [books_service] [main] liquibase.util                           : Filtered out:                 0
2025-01-22T19:40:14.531+03:00  INFO 10160 --- [books_service] [main] liquibase.util                           : -------------------------------
2025-01-22T19:40:14.531+03:00  INFO 10160 --- [books_service] [main] liquibase.util                           : Total change sets:            7

2025-01-22T19:40:14.531+03:00  INFO 10160 --- [books_service] [main] liquibase.util                           : Update summary generated
2025-01-22T19:40:14.570+03:00  INFO 10160 --- [books_service] [main] liquibase.lockservice                    : Successfully released change log lock
2025-01-22T19:40:14.572+03:00  INFO 10160 --- [books_service] [main] liquibase.command                        : Command execution complete
2025-01-22T19:40:14.637+03:00  INFO 10160 --- [books_service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-22T19:40:14.689+03:00  INFO 10160 --- [books_service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2025-01-22T19:40:14.735+03:00  INFO 10160 --- [books_service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-22T19:40:14.954+03:00  INFO 10160 --- [books_service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-22T19:40:15.006+03:00  INFO 10160 --- [books_service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-22T19:40:15.014+03:00 DEBUG 10160 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@7a59780b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@5205b3e2)
2025-01-22T19:40:15.014+03:00 DEBUG 10160 --- [books_service] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2802caa2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6b9f5dcf)
2025-01-22T19:40:15.743+03:00  INFO 10160 --- [books_service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-22T19:40:15.743+03:00  INFO 10160 --- [books_service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T19:40:16.106+03:00  INFO 10160 --- [books_service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-22T19:40:16.609+03:00  WARN 10160 --- [books_service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-22T19:40:16.641+03:00 DEBUG 10160 --- [books_service] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-01-22T19:40:16.801+03:00 DEBUG 10160 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2025-01-22T19:40:16.874+03:00 DEBUG 10160 --- [books_service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-01-22T19:40:16.932+03:00 DEBUG 10160 --- [books_service] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-01-22T19:40:16.982+03:00 DEBUG 10160 --- [books_service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-22T19:40:17.039+03:00  WARN 10160 --- [books_service] [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-01-22T19:40:17.064+03:00 DEBUG 10160 --- [books_service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-22T19:40:17.272+03:00  INFO 10160 --- [books_service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-01-22T19:40:17.274+03:00  INFO 10160 --- [books_service] [main] c.e.b.BooksServiceApplication            : Started BooksServiceApplication in 5.861 seconds (process running for 6.285)
2025-01-22T19:40:24.072+03:00  INFO 10160 --- [books_service] [http-nio-8080-exec-7] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-22T19:40:24.072+03:00  INFO 10160 --- [books_service] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-22T19:40:24.072+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-01-22T19:40:24.080+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-01-22T19:40:24.080+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-01-22T19:40:24.080+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6984d41a
2025-01-22T19:40:24.080+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2771025a
2025-01-22T19:40:24.080+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-22T19:40:24.080+03:00  INFO 10160 --- [books_service] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-01-22T19:40:24.113+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing PUT /update/50
2025-01-22T19:40:24.259+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-01-22T19:40:24.259+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3c46da5e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-01-22T19:40:24.259+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured PUT /update/50
2025-01-22T19:40:24.267+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : PUT "/update/50", parameters={}
2025-01-22T19:40:24.267+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.CrudController#updateById(Long, BookDTO)
2025-01-22T19:40:24.376+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [BookDTO[id=null, isbn=4444444444444, title=Anathem, genres=[GenreDTO[genre=fantasy]], description=,  (truncated)...]
2025-01-22T19:40:24.516+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-7] org.hibernate.SQL                        : select be1_0.id,be1_0.author,a1_0.id,a1_0.birth_date,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.patronymic,be1_0.description,be1_0.isbn,be1_0.title from books be1_0 join authors a1_0 on a1_0.id=be1_0.author where be1_0.id=?
2025-01-22T19:40:24.552+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.example.books_service.validator.GlobalExceptionHandler#handleNotFoundException(EntityNotFoundException, WebRequest)
2025-01-22T19:40:24.568+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T19:40:24.568+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [com.example.books_service.dto.Response@5526c258]
2025-01-22T19:40:24.584+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [jakarta.persistence.EntityNotFoundException: Book with id 50 not found. You can add it.]
2025-01-22T19:40:24.584+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-01-22T19:40:48.980+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /update/50
2025-01-22T19:40:48.988+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-01-22T19:40:48.988+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3c46da5e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-01-22T19:40:48.988+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /update/50
2025-01-22T19:40:48.988+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/update/50", parameters={}
2025-01-22T19:40:48.988+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.books_service.rest.CrudController#updateById(Long, BookDTO)
2025-01-22T19:40:48.996+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [BookDTO[id=11, isbn=4444444444444, title=Anathem, genres=[GenreDTO[genre=fantasy]], description=, au (truncated)...]
2025-01-22T19:40:48.996+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-1] org.hibernate.SQL                        : select be1_0.id,be1_0.author,a1_0.id,a1_0.birth_date,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.patronymic,be1_0.description,be1_0.isbn,be1_0.title from books be1_0 join authors a1_0 on a1_0.id=be1_0.author where be1_0.id=?
2025-01-22T19:40:49.004+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.example.books_service.validator.GlobalExceptionHandler#handleNotFoundException(EntityNotFoundException, WebRequest)
2025-01-22T19:40:49.004+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/cbor, application/yaml]
2025-01-22T19:40:49.004+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [com.example.books_service.dto.Response@6fcd6bc8]
2025-01-22T19:40:49.004+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [jakarta.persistence.EntityNotFoundException: Book with id 50 not found. You can add it.]
2025-01-22T19:40:49.004+03:00 DEBUG 10160 --- [books_service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-01-22T19:40:53.705+03:00  INFO 10160 --- [books_service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-22T19:40:53.705+03:00  INFO 10160 --- [books_service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-01-22T19:40:53.713+03:00  INFO 10160 --- [books_service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-22T19:40:53.713+03:00  INFO 10160 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-22T19:40:53.724+03:00  INFO 10160 --- [books_service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
